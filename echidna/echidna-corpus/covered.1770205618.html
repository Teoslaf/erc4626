<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Echidna Coverage Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
:root {
    --primary: #6366f1;
    --primary-hover: #4f46e5;
    --primary-light: rgba(99,102,241,0.1);
    --success: #22c55e;
    --warning: #eab308;
    --danger: #ef4444;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-400: #9ca3af;
    --gray-500: #6b7280;
    --gray-600: #4b5563;
    --gray-700: #374151;
    --gray-800: #1f2937;
    --surface: #fff;
    --text: var(--gray-800);
    --text-light: var(--gray-500);
    --radius: 0.375rem;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
    --shadow: 0 1px 3px rgba(0,0,0,0.1);
    --success-rgb: 34,197,94;
    --warning-rgb: 234,179,8;
    --danger-rgb: 239,68,68;
}

/* Reset */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Roboto', -apple-system, sans-serif;
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--text);
    background: var(--gray-50);
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

a {
    color: var(--primary);
    text-decoration: none;
}

a:hover {
    color: var(--primary-hover);
    text-decoration: underline;
}

button {
    cursor: pointer;
    background: transparent;
    border: none;
    padding: 0;
    font: inherit;
    color: inherit;
    outline: none;
}

/* Layout */
.app-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

header {
    background: var(--surface);
    border-bottom: 1px solid var(--gray-200);
    padding: 1rem 1.5rem;
    z-index: 10;
    box-shadow: var(--shadow-sm);
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1400px;
    margin: 0;
    width: 100%;
}

.logo-text {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--gray-800);
}

/* Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 2.25rem;
    padding: 0 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: var(--radius);
    transition: all 0.2s;
    border: 1px solid transparent;
}

.btn-secondary {
    background: #B92B3D;
    border-color: #B92B3D;
    color: white;
}

.btn-secondary:hover {
    background: #9e2434;
    border-color: #9e2434;
}

.btn-sm {
    height: 2rem;
    padding: 0 0.5rem;
    font-size: 0.75rem;
}

.button-group {
    display: flex;
    gap: 0.75rem;
    width: 100%;
}

.button-group .btn {
    flex: 1;
}

/* Split panel layout */
.split-panel {
    display: flex;
    flex: 1;
    overflow: hidden;
    position: relative;
}

#file-split-panel {
    display: flex;
    flex-direction: row;
}

/* File explorer panel */
#file-explorer {
    flex: 0 0 260px;
    height: 100%;
    overflow: auto;
    background: var(--surface);
    border-right: 1px solid var(--gray-200);
    padding: 0;
    position: relative;
    min-width: 200px;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    overflow-x: hidden; /* to not show horizontal scrollbar with resizer */
}

#file-explorer-resizer {
    position: absolute;
    top: 0;
    right: -5px;
    width: 10px;
    height: 100%;
    cursor: col-resize;
    z-index: 10;
    background: linear-gradient(to right, transparent, rgba(0,0,0,0.05), transparent);
}

#file-explorer-resizer:hover {
    background: linear-gradient(to right, transparent, rgba(0,0,0,0.1), transparent);
}

.file-explorer-header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    border-bottom: 1px solid var(--gray-200);
}

.file-search {
    padding: 0.5rem 1rem;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    align-items: center;
}

.file-search input {
    flex: 1;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius);
    padding: 0.5rem;
    font-size: 0.875rem;
    outline: none;
}

.file-search input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 1px var(--primary-light);
}

#file-search-clear {
    margin-left: 0.5rem;
    color: var(--gray-500);
    font-size: 1.25rem;
    line-height: 1;
    padding: 0.25rem;
    border-radius: var(--radius);
}

#file-search-clear:hover {
    background: var(--gray-100);
}

.search-highlight {
    background: var(--primary-light);
    color: var(--primary);
    font-weight: 500;
}

.search-no-results {
    padding: 1rem;
    font-style: italic;
    color: var(--gray-500);
    text-align: center;
}

.file-explorer-content {
    overflow: auto;
    flex: 1;
    padding: 1rem;
}

.file-explorer-title {
    font-size: 0.875rem;
    font-weight: 600;
    margin: 0;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Main view panel */
#main-view-panel {
    flex: 1;
    height: 100%;
    overflow: auto;
    padding: 1.5rem;
    background: var(--gray-50);
}

/* Stats cards */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.stat-card {
    background: var(--surface);
    border-radius: var(--radius);
    padding: 1.25rem;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
}

.stat-title {
    font-size: 0.875rem;
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.stat-value {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.stat-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    background: var(--primary-light);
    color: var(--primary);
}

/* Progress bar */
.progress-container {
    width: 100%;
    height: 0.5rem;
    background: var(--gray-200);
    border-radius: 9999px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.progress-bar {
    height: 100%;
    border-radius: 9999px;
    transition: width 0.3s;
}

/* File tree */
.file-tree {
    list-style: none;
    padding-left: 0;
    margin: 0;
    font-size: 0.875rem;
}

.file-tree li {
    margin: 0.25rem 0;
}

.file-tree ul {
    list-style: none;
    padding-left: 1.25rem;
    margin: 0.25rem 0;
}

.file-item {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 0.375rem 0.5rem;
    border-radius: var(--radius);
    transition: background-color 0.2s;
}

.file-item:hover {
    background: var(--gray-100);
}

.file-item.active {
    background: var(--primary-light);
    color: var(--primary);
}

.file-toggle {
    width: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    color: var(--gray-500);
}

.file-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.5rem;
    color: var(--gray-500);
}

.file-name {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.file-coverage {
    width: 0.75rem;
    height: 0.75rem;
    border-radius: 50%;
    margin-left: 0.5rem;
}

/* File tree icons */
.directory > .file-item > .file-icon:before { content: "ðŸ“"; }
.directory.expanded > .file-item > .file-icon:before { content: "ðŸ“‚"; }
.file > .file-item > .file-icon:before { content: "ðŸ“„"; }
.directory > .file-item > .file-toggle:before { content: "â–¶"; }
.directory.expanded > .file-item > .file-toggle:before { content: "â–¼"; }
.file > .file-item > .file-toggle { visibility: hidden; }
.directory > ul { display: none; }
.directory.expanded > ul { display: block; }

/* Source files */
.source-file {
    margin-bottom: 1.5rem;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    background: var(--surface);
}

.source-file-header {
    padding: 0.75rem 1rem;
    background: #12181E;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background-color 0.2s;
}

.source-file-header:hover {
    background: #1e2832;
}

.source-file-header .file-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.source-file-header .file-name {
    font-weight: 500;
}

.source-file-header .coverage-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
}

.source-file-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.source-file.expanded .source-file-content {
    max-height: none;
}

.source-file-stats {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--gray-200);
    font-size: 0.875rem;
    color: var(--text-light);
}

/* Code styling */
.code-container {
    position: relative;
    overflow: auto;
    max-height: 600px;
}

.code-coverage-table {
    border-collapse: collapse;
    font-family: 'Roboto Mono', monospace;
    font-size: 0.8125rem;
    line-height: 1.5;
    tab-size: 4;
    width: 100%;
}

.code-coverage-table pre {
    margin: 0;
    font-family: inherit;
}

.row-line-number {
    user-select: none;
    text-align: right;
    padding: 0 0.75rem;
    width: 1%;
    min-width: 2.5rem;
    color: var(--gray-400);
    background: var(--gray-100);
    border-right: 1px solid var(--gray-200);
}

.row-reverted-status {
    user-select: none;
    text-align: center;
    width: 1%;
    min-width: 2.25rem;
    max-width: fit-content;
    padding: 0 0.25rem;
    color: var(--gray-600);
    background: var(--gray-100);
    border-right: 1px solid var(--gray-200);
    white-space: nowrap;
}

.row-source {
    padding: 0 0.75rem;
}

.row-line-covered {
    background: rgba(var(--success-rgb), 0.1);
}

.row-line-uncovered {
    background: rgba(var(--danger-rgb), 0.1);
}

/* Footer */
footer {
    background: var(--surface);
    border-top: 1px solid var(--gray-200);
    padding: 1rem;
    text-align: center;
    font-size: 0.875rem;
    color: var(--gray-500);
}

/* Responsive */
@media (max-width: 768px) {
    .stats-container { grid-template-columns: 1fr; }
    #file-explorer { display: none; }
}    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <span class="logo-text">Echidna Coverage Report</span>
            </div>
        </header>

        <!-- Main content -->
        <div class="split-panel" id="file-split-panel">
            <!-- File Explorer -->
            <div id="file-explorer">
                <div class="file-explorer-header">
                    <h3 class="file-explorer-title">Files</h3>
                </div>
                <div class="file-search">
                    <input type="text" id="file-search-input" placeholder="Search files..." />
                    <button id="file-search-clear" title="Clear search">Ã—</button>
                </div>
                <div class="file-explorer-content">
                    <ul id="file-tree-root" class="file-tree"></ul>
                    <div id="search-no-results" class="search-no-results" style="display: none;">No matching files found</div>
                </div>
                <div id="file-explorer-resizer"></div>
            </div>

            <!-- Main panel -->
            <div id="main-view-panel">
                <!-- Overview -->
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-title">Files</div>
                        <div class="stat-value">22</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Total Lines</div>
                        <div class="stat-value">2830</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Coverage</div>
                        <div class="stat-value">85.0%</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 85.0%; background-color: hsl(102, 90%, 45%)"></div>
                        </div>
                        <div style="margin-top: 0.5rem">
                            <span class="stat-badge">750 / 879 lines</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">Actions</div>
                        <div class="button-group">
                            <button class="btn btn-secondary btn-sm" onclick="setAllSourceFilesCollapsed(false)">Expand All</button>
                            <button class="btn btn-secondary btn-sm" onclick="setAllSourceFilesCollapsed(true)">Collapse All</button>
                        </div>
                        <div class="button-group" style="margin-top: 0.5rem">
                            <button class="btn btn-secondary btn-sm" onclick="setEmptySourceFilesCollapsed(false)">Expand Empty</button>
                            <button class="btn btn-secondary btn-sm" onclick="setEmptySourceFilesCollapsed(true)">Collapse Empty</button>
                        </div>
                    </div>
                </div>

                <!-- Individual file coverage -->
                <div class="source-file" id="lib_properties_contracts_ERC4626_ERC4626PropertyTests_sol" data-file-path="lib/properties/contracts/ERC4626/ERC4626PropertyTests.sol" data-lines-active="2" data-lines-covered="1">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(60, 90%, 45%, 0.15); color: hsl(60, 90%, 45%)">
                                50.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/ERC4626PropertyTests.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>1 / 2</strong> (50.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {TestERC20Token} from &quot;./util/TestERC20Token.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {CryticERC4626RedeemUsingApproval} from &quot;./properties/RedeemUsingApprovalProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {CryticERC4626SenderIndependent} from &quot;./properties/SenderIndependentProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;./util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {CryticERC4626MustNotRevert} from &quot;./properties/MustNotRevertProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>import {CryticERC4626FunctionalAccounting} from &quot;./properties/FunctionalAccountingProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>import {CryticERC4626Rounding} from &quot;./properties/RoundingProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>import {CryticERC4626VaultProxy} from &quot;./properties/VaultProxy.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>import {CryticERC4626SecurityProps} from &quot;./properties/SecurityProps.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>/// @notice Aggregator contract for various 4626 property tests. Inherit from this &amp; echidna will test all properties at the same time.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>contract CryticERC4626PropertyTests is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    CryticERC4626RedeemUsingApproval,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    CryticERC4626MustNotRevert,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    CryticERC4626SenderIndependent,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    CryticERC4626FunctionalAccounting,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    CryticERC4626Rounding,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    CryticERC4626SecurityProps</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>{</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_FunctionalAccountingProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/FunctionalAccountingProps.sol" data-lines-active="110" data-lines-covered="109">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(118, 90%, 45%, 0.15); color: hsl(118, 90%, 45%)">
                                99.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/FunctionalAccountingProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>109 / 110</strong> (99.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract CryticERC4626FunctionalAccounting is CryticERC4626PropertyBase {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    ///  - deposit() must deduct assets from the owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    ///  - deposit() must credit shares to the receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    ///  - deposit() must mint greater than or equal to the number of shares predicted by previewDeposit()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    function verify_depositProperties(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>        uint256 tokens</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        address sender = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        tokens = requireValidDepositAmount(sender, receiver, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>        (uint256 senderAssetsBeforeDeposit, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>            sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>            &quot;sender&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>            &quot;before deposit&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        (, uint256 receiverSharesBeforeDeposit) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>            &quot;before deposit&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        uint256 sharesExpected = vault.previewDeposit(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        uint256 sharesMinted = vault.deposit(tokens, receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        assertGte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>            sharesMinted,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>            sharesExpected,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>            &quot;deposit() must always mint greater than or equal to the shares predicted by previewDeposit()&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        (uint256 senderAssetsAfterDeposit, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>            sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>            &quot;sender&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>            &quot;after deposit&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>        (, uint256 receiverSharesAfterDeposit) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>            &quot;after deposit&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        uint256 senderAssetsDelta = senderAssetsBeforeDeposit -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>            senderAssetsAfterDeposit;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>            senderAssetsDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>            tokens,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>            &quot;deposit() must consume exactly the number of tokens requested&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        uint256 receiverSharesDelta = receiverSharesAfterDeposit -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>            receiverSharesBeforeDeposit;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>            receiverSharesDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>            sharesMinted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>            &quot;deposit() must credit the correct number of shares to the receiver&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    ///  - mint() must deduct assets from the owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    ///  - mint() must credit shares to the receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>    ///  - mint() must consume less than or equal to the number of assets predicted by previewMint()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    function verify_mintProperties(uint256 receiverId, uint256 shares) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        address sender = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        uint256 tokensExpected = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        shares = requireValidMintAmount(sender, receiver, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        (uint256 senderAssetsBeforeMint, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>            sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>            &quot;sender&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>            &quot;before mint&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        (, uint256 receiverSharesBeforeMint) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>            &quot;before mint&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>        uint256 tokensConsumed = vault.mint(shares, receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>            tokensConsumed,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>            tokensExpected,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>            &quot;mint() must always consume less than or equal to the tokens predicted by previewMint()&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>        (uint256 senderAssetsAfterMint, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>            sender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>            &quot;sender&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>            &quot;after mint&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        (, uint256 receiverSharesAfterMint) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>            &quot;after mint&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>        uint256 senderAssetsDelta = senderAssetsBeforeMint -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>            senderAssetsAfterMint;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>            senderAssetsDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>            tokensConsumed,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>            &quot;mint() must consume exactly the number of tokens requested&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        uint256 receiverSharesDelta = receiverSharesAfterMint -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>            receiverSharesBeforeMint;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>            receiverSharesDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>            &quot;mint() must credit the correct number of shares to the receiver&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    ///  - redeem() must deduct shares from the owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    ///  - redeem() must credit assets to the receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>    ///  - redeem() must credit greater than or equal to the number of assets predicted by previewRedeem()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    function verify_redeemProperties(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        // we can only redeem on behalf of address(this) until we get cheatcodes</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        shares = requireValidRedeemAmount(owner, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>        (, uint256 ownerSharesBefore) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>            owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>            &quot;owner&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>            &quot;before redeem&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>        (uint256 receiverAssetsBefore, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>            &quot;before redeem&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>        uint256 tokensExpected = vault.previewRedeem(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.redeem(shares, receiver, owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>        assertGte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>            tokensExpected,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>            &quot;redeem() must withdraw greater than or equal to the number of assets predicted by previewRedeem()&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>        (, uint256 ownerSharesAfter) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>            owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>            &quot;owner&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>            &quot;after redeem&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>        (uint256 receiverAssetsAfter, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>            &quot;after redeem&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>        uint256 receiverAssetsDelta = receiverAssetsAfter -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>            receiverAssetsBefore;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>            receiverAssetsDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>            &quot;redeem() must credit the correct number of assets to the receiver&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>        uint256 ownerSharesDelta = ownerSharesBefore - ownerSharesAfter;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>            ownerSharesDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>            shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>            &quot;redeem() must deduct the correct number of shares from the owner&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    ///  - withdraw() must deduct shares from the owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    ///  - withdraw() must credit assets to the receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    ///  - withdraw() must deduct less than or equal to the number of shares predicted by previewWithdraw()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>    function verify_withdrawProperties(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>        uint256 tokens</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>        // we can only withdraw on behalf of address(this) until we get cheatcodes</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>        tokens = requireValidWithdrawAmount(owner, tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>        uint256 sharesExpected = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>        (, uint256 ownerSharesBefore) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>            owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>            &quot;owner&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>            &quot;before withdraw&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>        (uint256 receiverAssetsBefore, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>            &quot;before withdraw&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>        uint256 sharesRedeemed = vault.withdraw(tokens, receiver, owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>        assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>            sharesRedeemed,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>            sharesExpected,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>            &quot;withdraw() must redeem less than or equal to the number of shares predicted by previewWithdraw()&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>        (, uint256 ownerSharesAfter) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>            owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>            &quot;owner&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>            &quot;after withdraw&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>        (uint256 receiverAssetsAfter, ) = measureAddressHoldings(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>            receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>            &quot;receiver&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>            &quot;after withdraw&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>        uint256 receiverAssetsDelta = receiverAssetsAfter -</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>            receiverAssetsBefore;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>            receiverAssetsDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>            tokens,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>            &quot;withdraw() must credit the correct number of assets to the receiver&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>        uint256 ownerSharesDelta = ownerSharesBefore - ownerSharesAfter;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>            ownerSharesDelta,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>            sharesRedeemed,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>            &quot;withdraw() must deduct the correct number of shares from the owner&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_MustNotRevertProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/MustNotRevertProps.sol" data-lines-active="44" data-lines-covered="37">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(100, 90%, 45%, 0.15); color: hsl(100, 90%, 45%)">
                                84.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/MustNotRevertProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>37 / 44</strong> (84.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {CryticERC4626VaultProxy} from &quot;./VaultProxy.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>contract CryticERC4626MustNotRevert is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    CryticERC4626PropertyBase,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    CryticERC4626VaultProxy</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>{</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    /// - vault.asset() must not revert</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    function verify_assetMustNotRevert() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        try vault.asset() {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.asset() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    /// - vault.totalAssets() must not revert</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    function verify_totalAssetsMustNotRevert() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        try vault.totalAssets() {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.totalAssets() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    /// - vault.convertToAssets() must not revert for reasonable values</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    function verify_convertToAssetsMustNotRevert(uint256 shares) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        // arbitrarily define &quot;reasonable values&quot; to be 10**(token.decimals+20)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        uint256 reasonably_largest_value = 10 ** (vault.decimals() + 20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        // prevent scenarios where there is enough totalSupply to trigger overflows</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        require(vault.totalSupply() &lt;= reasonably_largest_value);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, reasonably_largest_value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        // exclude the possibility of idiosyncratic reverts. Might have to add more in future.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, vault.totalSupply());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;totalSupply&quot;, vault.totalSupply());</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;totalAssets&quot;, vault.totalAssets());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        try vault.convertToAssets(shares) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.convertToAssets() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    /// @notice Validates the following properties:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>    /// - vault.convertToShares() must not revert for reasonable values</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    function verify_convertToSharesMustNotRevert(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        // arbitrarily define &quot;reasonable values&quot; to be 10**(token.decimals+20)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        uint256 reasonably_largest_value = 10 ** (asset.decimals() + 20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        // prevent scenarios where there is enough totalSupply to trigger overflows</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        require(asset.totalSupply() &lt;= reasonably_largest_value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        // exclude the possibility of idiosyncratic reverts. Might have to add more in future.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>        tokens = clampLte(tokens, asset.totalSupply());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>        try vault.convertToShares(tokens) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.convertToShares() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    function verify_maxDepositMustNotRevert(address owner) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        try vault.maxDeposit(owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.maxDeposit() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    function verify_maxMintMustNotRevert(address owner) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>        try vault.maxMint(owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.maxMint() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>    function verify_maxRedeemMustNotRevert(address owner) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        // if the following reverts from overflow, bail out.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        // additional criterion might be required in the future</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        vault.convertToAssets(vault.balanceOf(owner));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>        try vault.maxRedeem(owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.maxRedeem() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    function verify_maxWithdrawMustNotRevert(address owner) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        // if the following reverts from overflow, bail out.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        // additional criterion might be required in the future</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>        vault.convertToAssets(vault.balanceOf(owner));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>        try vault.maxWithdraw(owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>            return;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>            assertWithMsg(false, &quot;vault.maxWithdraw() must not revert&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_RedeemUsingApprovalProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/RedeemUsingApprovalProps.sol" data-lines-active="64" data-lines-covered="53">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(98, 90%, 45%, 0.15); color: hsl(98, 90%, 45%)">
                                82.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/RedeemUsingApprovalProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>53 / 64</strong> (82.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticERC4626VaultProxy} from &quot;./VaultProxy.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract CryticERC4626RedeemUsingApproval is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    CryticERC4626PropertyBase,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    CryticERC4626VaultProxy</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>{</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    /// @notice verifies `redeem()` must allow proxies to redeem shares on behalf of the owner using share token approvals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    ///         verifies third party `redeem()` calls must update the msg.sender&#39;s allowance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    function verify_redeemViaApprovalProxy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 tokensWithdrawn) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        shares = requireValidRedeemAmount(owner, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>        vault.approve(address(redemptionProxy), shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        measureAddressHoldings(address(this), &quot;vault&quot;, &quot;before redeemption&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        try redemptionProxy.redeemOnBehalf(shares, receiver, owner) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>            uint256 _tokensWithdrawn</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        ) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>            tokensWithdrawn = _tokensWithdrawn;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>            assertWithMsg(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>                false,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>                &quot;vault.redeem() reverted during redeem via approval&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        // verify allowance is updated</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        uint256 newAllowance = vault.allowance(owner, address(redemptionProxy));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>            newAllowance,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>            &quot;The vault failed to update the redemption proxy&#39;s share allowance&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    /// @notice verifies `withdraw()` must allow proxies to withdraw shares on behalf of the owner using share token approvals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    ///         verifies third party `withdraw()` calls must update the msg.sender&#39;s allowance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    function verify_withdrawViaApprovalProxy(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        uint256 tokens</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 sharesBurned) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>        tokens = requireValidWithdrawAmount(owner, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        uint256 expectedSharesConsumed = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        vault.approve(address(redemptionProxy), expectedSharesConsumed);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        measureAddressHoldings(address(this), &quot;vault&quot;, &quot;before withdraw&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        try redemptionProxy.withdrawOnBehalf(tokens, receiver, owner) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>            uint256 _sharesBurned</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        ) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>            sharesBurned = _sharesBurned;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        } catch {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>            assertWithMsg(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>                false,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>                &quot;vault.withdraw() reverted during withdraw via approval&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;withdraw consumed this many shares:&quot;, sharesBurned);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        // verify allowance is updated</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        uint256 newAllowance = vault.allowance(owner, address(redemptionProxy));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        uint256 expectedAllowance = expectedSharesConsumed - sharesBurned;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Expecting allowance to now be:&quot;, expectedAllowance);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>            expectedAllowance,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>            newAllowance,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>            &quot;The vault failed to update the redemption proxy&#39;s share allowance&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    /// @notice verifies third parties must not be able to `withdraw()` tokens on an owner&#39;s behalf without a token approval</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    function verify_withdrawRequiresTokenApproval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        uint256 tokens,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        uint256 sharesApproved</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>        tokens = requireValidWithdrawAmount(owner, tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        uint256 expectedSharesConsumed = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        emit LogUint256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>            &quot;Will attempt to proxy withdraw this many shares:&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>            expectedSharesConsumed</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        require(sharesApproved &lt; expectedSharesConsumed);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Approving spend of this many shares:&quot;, sharesApproved);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        vault.approve(address(redemptionProxy), sharesApproved);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>        try redemptionProxy.withdrawOnBehalf(tokens, receiver, owner) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>            uint256 _sharesBurned</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        ) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>            assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>                _sharesBurned,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>                sharesApproved,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>                &quot;Redemption proxy must not be able to withdraw more shares than it was approved&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        } catch {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    /// @notice verifies third parties must not be able to `redeem()` shares on an owner&#39;s behalf without a token approval</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    function verify_redeemRequiresTokenApproval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        uint256 receiverId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        uint256 sharesApproved</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        address owner = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        shares = requireValidRedeemAmount(owner, shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>        emit LogUint256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>            &quot;Will attempt to proxy redeem this many shares:&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>            shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        require(sharesApproved &lt; shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Approving spend of this many shares:&quot;, sharesApproved);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        vault.approve(address(redemptionProxy), sharesApproved);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        try redemptionProxy.redeemOnBehalf(shares, receiver, owner) returns (</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>            uint256 _sharesBurned</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        ) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>            assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>                _sharesBurned,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>                sharesApproved,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>                &quot;Redemption proxy must not be able to redeem more shares than it was approved&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>        } catch {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_RoundingProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/RoundingProps.sol" data-lines-active="74" data-lines-covered="71">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(114, 90%, 45%, 0.15); color: hsl(114, 90%, 45%)">
                                95.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/RoundingProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>71 / 74</strong> (95.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticERC4626VaultProxy} from &quot;./VaultProxy.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract CryticERC4626Rounding is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    CryticERC4626PropertyBase,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    CryticERC4626VaultProxy</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>{</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    /// @notice verifies shares may never be minted for free using previewDeposit()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    function verify_previewDepositRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>        uint256 sharesMinted = vault.previewDeposit(0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>            sharesMinted,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>            &quot;previewDeposit() must not mint shares at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    /// @notice verifies shares may never be minted for free using previewMint()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    function verify_previewMintRoundingDirection(uint256 shares) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        require(shares &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        uint256 tokensConsumed = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        assertGt(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>            tokensConsumed,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>            &quot;previewMint() must never mint shares at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    /// @notice verifies shares may never be minted for free using convertToShares()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    function verify_convertToSharesRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        // note: the correctness of this property can&#39;t be tested using solmate as a reference impl. 0/n=0. best case scenario, some other property gets set off.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.convertToShares(0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>            &quot;convertToShares() must not allow shares to be minted at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    /// @notice verifies tokens may never be withdrawn for free using previewRedeem()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    function verify_previewRedeemRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.previewRedeem(0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>            &quot;previewRedeem() must not allow assets to be withdrawn at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    /// @notice verifies tokens may never be withdrawn for free using previewWithdraw()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    function verify_previewWithdrawRoundingDirection(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        require(tokens &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        uint256 sharesRedeemed = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        assertGt(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>            sharesRedeemed,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>            &quot;previewWithdraw() must not allow assets to be withdrawn at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    /// @notice verifies tokens may never be withdrawn for free using convertToAssets()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>    function verify_convertToAssetsRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        // note: the correctness of this property can&#39;t be tested using solmate as a reference impl. 0/n=0. best case scenario, some other property gets set off.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.convertToAssets(0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>            0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>            &quot;convertToAssets() must not allow assets to be withdrawn at no cost&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    /// @notice Indirectly verifies the rounding direction of convertToShares/convertToAssets is correct by attempting to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    ///         create an arbitrage by depositing, then withdrawing</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    function verify_convertRoundTrip(uint256 amount) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        uint256 sharesMinted = vault.convertToShares(amount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.convertToAssets(sharesMinted);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>        assertGte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>            amount,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>            tokensWithdrawn,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>            &quot;A profit was extractable from a convertTo round trip (deposit, then withdraw)&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    /// @notice Indirectly verifies the rounding direction of convertToShares/convertToAssets is correct by attempting to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    ///         create an arbitrage by withdrawing, then depositing</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    function verify_convertRoundTrip2(uint256 amount) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.convertToAssets(amount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        uint256 sharesMinted = vault.convertToShares(tokensWithdrawn);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        assertGte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>            amount,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>            sharesMinted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>            &quot;A profit was extractable from a convertTo round trip (withdraw, then deposit)&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    /// @notice verifies Shares may never be minted for free using deposit()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    function verify_depositRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        uint256 shares = vault.deposit(0, address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        assertEq(shares, 0, &quot;Shares must not be minted for free&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>    /// @notice verifies Shares may never be minted for free using mint()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    function verify_mintRoundingDirection(uint256 shares) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        require(shares &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        uint256 tokensDeposited = vault.mint(shares, address(this));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        assertGt(tokensDeposited, 0, &quot;Shares must not be minted for free&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    /// @notice verifies tokens may never be withdrawn for free using withdraw()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    function verify_withdrawRoundingDirection(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        require(tokens &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>        uint256 sharesRedeemed = vault.withdraw(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>            tokens,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>            address(this),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>            address(this)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>        assertGt(sharesRedeemed, 0, &quot;Token must not be withdrawn for free&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>    /// @notice verifies tokens may never be withdrawn for free using redeem()</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    function verify_redeemRoundingDirection() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.redeem(0, address(this), address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>        assertEq(tokensWithdrawn, 0, &quot;Tokens must not be withdrawn for free&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_SecurityProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/SecurityProps.sol" data-lines-active="35" data-lines-covered="34">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(116, 90%, 45%, 0.15); color: hsl(116, 90%, 45%)">
                                97.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/SecurityProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>34 / 35</strong> (97.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>contract CryticERC4626SecurityProps is CryticERC4626PropertyBase {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>    /// @notice verify `decimals()` should be larger than or equal to `asset.decimals()`</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    function verify_assetDecimalsLessThanVault() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>        assertGte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>            vault.decimals(),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>            asset.decimals(),</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>            &quot;The vault&#39;s share token should have greater than or equal to the number of decimals as the vault&#39;s asset token.&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    /// @notice verify Accounting system must not be vulnerable to share price inflation attacks</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    function verify_sharePriceInflationAttack(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        uint256 inflateAmount,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        uint256 delta</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>        // this has to be changed if there&#39;s deposit/withdraw fees</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        uint256 lossThreshold = 0.999 ether;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        // vault is fresh</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        require(vault.totalAssets() == 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        require(vault.totalSupply() == 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        // these minimums are to prevent 1-wei rounding errors from triggering the property</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        require(inflateAmount &gt; 10000);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        uint256 victimDeposit = inflateAmount + delta;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        address attacker = address(this);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        // fund account</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(attacker, inflateAmount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>        uint256 shares = vault.deposit(1, attacker);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        // attack only works when pps=1:1 + new vault</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        require(shares == 1);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        require(vault.totalAssets() == 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        // inflate pps</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        asset.transfer(address(vault), inflateAmount - 1);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        // fund victim</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        alice.fund(victimDeposit);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>        alice.approveFunds();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Amount of alice&#39;s deposit:&quot;, victimDeposit);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>        uint256 aliceShares = alice.depositFunds(victimDeposit);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Alice Shares:&quot;, aliceShares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        uint256 aliceWithdrawnFunds = alice.redeemShares(aliceShares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        emit LogUint256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>            &quot;Amount of tokens alice withdrew:&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>            aliceWithdrawnFunds</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        uint256 victimLoss = victimDeposit - aliceWithdrawnFunds;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Alice Loss:&quot;, victimLoss);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        uint256 minRedeemedAmountNorm = (victimDeposit * lossThreshold) /</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>            1 ether;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;lossThreshold&quot;, lossThreshold);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;minRedeemedAmountNorm&quot;, minRedeemedAmountNorm);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>        assertGt(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>            aliceWithdrawnFunds,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>            minRedeemedAmountNorm,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>            &quot;Share inflation attack possible, victim lost an amount over lossThreshold%&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_SenderIndependentProps_sol" data-file-path="lib/properties/contracts/ERC4626/properties/SenderIndependentProps.sol" data-lines-active="55" data-lines-covered="54">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(117, 90%, 45%, 0.15); color: hsl(117, 90%, 45%)">
                                98.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/SenderIndependentProps.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>54 / 55</strong> (98.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>contract CryticERC4626SenderIndependent is CryticERC4626PropertyBase {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>    // todo: these properties may have issues in vaults that have super weird redemption curves.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    // If that happens, use a proxy contract to compare results instead of msg.sender&#39;s state</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    /// @notice verify `maxDeposit()` assumes the receiver/sender has infinite assets</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    function verify_maxDepositIgnoresSenderAssets(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>        uint256 maxDepositBefore = vault.maxDeposit(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>        asset.mint(receiver, tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        uint256 maxDepositAfter = vault.maxDeposit(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>            maxDepositBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>            maxDepositAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>            &quot;maxDeposit must assume the agent has infinite assets&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    /// @notice verify `maxMint()` assumes the receiver/sender has infinite assets</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    function verify_maxMintIgnoresSenderAssets(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        uint256 maxMintBefore = vault.maxMint(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        asset.mint(receiver, tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        uint256 maxMintAfter = vault.maxMint(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>            maxMintBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>            maxMintAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>            &quot;maxMint must assume the agent has infinite assets&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    /// @notice verify `previewMint()` does not account for msg.sender asset balance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    function verify_previewMintIgnoresSender(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        uint256 tokens,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        uint256 assetsExpectedBefore = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(receiver, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>        uint256 assetsExpectedAfter = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>            assetsExpectedBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>            assetsExpectedAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>            &quot;previewMint must not be dependent on msg.sender&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    /// @notice verify `previewDeposit()` does not account for msg.sender asset balance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    function verify_previewDepositIgnoresSender(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        uint256 sharesExpectedBefore = vault.previewDeposit(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(receiver, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        uint256 sharesExpectedAfter = vault.previewDeposit(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>            sharesExpectedBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>            sharesExpectedAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>            &quot;previewDeposit must not be dependent on msg.sender&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    /// @notice verify `previewWithdraw()` does not account for msg.sender asset balance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    function verify_previewWithdrawIgnoresSender(uint256 tokens) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>        uint256 sharesExpectedBefore = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(receiver, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        vault.deposit(tokens, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        uint256 sharesExpectedAfter = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>            sharesExpectedBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>            sharesExpectedAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>            &quot;previewWithdraw must not be dependent on msg.sender&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        // keep this property relatively stateless</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>        vault.redeem(vault.balanceOf(receiver), receiver, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>    /// @notice verify `previewRedeem()` does not account for msg.sender asset balance</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>    function verify_previewRedeemIgnoresSender(uint256 shares) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>        address receiver = address(this);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        uint256 tokensExpectedBefore = vault.previewRedeem(shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        uint256 assetsToDeposit = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(receiver, assetsToDeposit);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>        vault.deposit(assetsToDeposit, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        uint256 tokensExpectedAfter = vault.previewRedeem(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        assertEq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>            tokensExpectedBefore,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>            tokensExpectedAfter,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>            &quot;previewRedeem must not be dependent on msg.sender&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        // keep this property relatively stateless</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        vault.redeem(vault.balanceOf(receiver), receiver, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_properties_VaultProxy_sol" data-file-path="lib/properties/contracts/ERC4626/properties/VaultProxy.sol" data-lines-active="35" data-lines-covered="34">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(116, 90%, 45%, 0.15); color: hsl(116, 90%, 45%)">
                                97.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/properties/VaultProxy.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>34 / 35</strong> (97.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyBase} from &quot;../util/ERC4626PropertyTestBase.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticIERC4626Internal} from &quot;../util/IERC4626Internal.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract CryticERC4626VaultProxy is CryticERC4626PropertyBase {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    function recognizeProfitProxy(uint256 profit) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>        require(vault.totalSupply() &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>        CryticIERC4626Internal(address(vault)).recognizeProfit(profit);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    function recognizeLossProxy(uint256 loss) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        require(supportsInternalTestingIface);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        require(vault.totalSupply() &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        CryticIERC4626Internal(address(vault)).recognizeLoss(loss);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    /// @dev intended to be used when property violations are being shrunk</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    function depositForSelfSimple(uint256 assets) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        asset.mint(address(this), assets);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        asset.approve(address(vault), assets);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        vault.deposit(assets, address(this));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    function redeemForSelfSimple(uint256 shares) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, vault.balanceOf(address(this)));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        vault.redeem(shares, address(this), address(this));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    // consider removing/refactoring the following since they&#39;re so unlikely to be useful during testing</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    function deposit(uint256 assets, uint256 receiverId) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        vault.deposit(assets, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    function withdraw(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        uint256 ownerId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        uint256 receiverId</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>        address owner = restrictAddressToThirdParties(ownerId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>        vault.withdraw(assets, receiver, owner);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>    function mint(uint256 shares, uint256 receiverId) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        vault.mint(shares, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    function redeem(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        uint256 ownerId,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        uint256 receiverId</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        address owner = restrictAddressToThirdParties(ownerId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        vault.redeem(shares, receiver, owner);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    function mintAsset(uint256 assets, uint256 receiverId) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        address receiver = restrictAddressToThirdParties(receiverId);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>        asset.mint(receiver, assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_util_Actor_sol" data-file-path="lib/properties/contracts/ERC4626/util/Actor.sol" data-lines-active="50" data-lines-covered="28">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(67, 90%, 45%, 0.15); color: hsl(67, 90%, 45%)">
                                56.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/util/Actor.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>28 / 50</strong> (56.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {IERC4626} from &quot;../../util/IERC4626.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {TestERC20Token} from &quot;../util/TestERC20Token.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {PropertiesAsserts} from &quot;../../util/PropertiesHelper.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>/// @notice This contract has two purposes:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>///  1. Act as a proxy for performing vault deposits/withdraws (since we don&#39;t have vm.prank)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>///  2. Keep track of how much the account has deposited/withdrawn &amp; raise an error if the account can withdraw/redeem more than it deposited/minted.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>/// @dev It&#39;s important that other property tests never send tokens/shares to the Actor contract address, or else the accounting will break. This restriction is enforced in restrictAddressToThirdParties()</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>///      If support is added for &quot;harvesting&quot; a vault during property tests, the accounting logic here needs to be updated to reflect cases where an actor can withdraw more than they deposited.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>contract Actor is PropertiesAsserts {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    TestERC20Token token;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    IERC4626 vault;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    uint256 tokensDeposited; //tracks how many aggregate tokens this actor has deposited on its own behalf</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    uint256 sharesMinted; //tracks how many aggregate shares this actor has minted on its own behalf</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    constructor(IERC4626 _vault) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        vault = _vault;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        token = TestERC20Token(address(_vault.asset()));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    function accountForOpenedPosition(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        uint256 _tokensDeposited,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        uint256 _sharesMinted</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        tokensDeposited += _tokensDeposited;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        sharesMinted += _sharesMinted;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    function accountForClosedPosition(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        uint256 _tokensReceived,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        uint256 _sharesBurned</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>            _sharesBurned,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>            sharesMinted,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>            &quot;Actor has burned more shares than they ever minted. Implies a rounding or accounting error&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        assertLte(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>            _tokensReceived,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>            tokensDeposited,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>            &quot;Actor has withdrawn more tokens than they ever deposited. Implies a rounding or accounting error&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        tokensDeposited -= _tokensReceived;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        sharesMinted -= _sharesBurned;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>    function fund(uint256 amount) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>        token.mint(address(this), amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>    function approveFunds() public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        token.approve(address(vault), type(uint256).max);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>    function depositFunds(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        uint256 assets</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _sharesMinted) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>        _sharesMinted = vault.deposit(assets, address(this));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        accountForOpenedPosition(assets, _sharesMinted);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    function mintShares(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _tokensDeposited) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>        _tokensDeposited = vault.mint(shares, address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        accountForOpenedPosition(_tokensDeposited, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    function withdrawTokens(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        uint256 assets</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _sharesBurned) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        _sharesBurned = vault.withdraw(assets, address(this), address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        accountForClosedPosition(assets, _sharesBurned);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    function redeemShares(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _tokensWithdrawn) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>        _tokensWithdrawn = vault.redeem(shares, address(this), address(this));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        accountForClosedPosition(_tokensWithdrawn, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    function depositFundsOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _sharesMinted) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        _sharesMinted = vault.deposit(assets, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    function mintSharesOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _tokensDeposited) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        _tokensDeposited = vault.mint(shares, receiver);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>    function withdrawTokensOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _sharesBurned) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>        _sharesBurned = vault.withdraw(assets, receiver, address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>        accountForClosedPosition(assets, _sharesBurned);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>    function redeemSharesOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 _tokensWithdrawn) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        _tokensWithdrawn = vault.redeem(shares, receiver, address(this));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        accountForClosedPosition(_tokensWithdrawn, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_util_ERC4626PropertyTestBase_sol" data-file-path="lib/properties/contracts/ERC4626/util/ERC4626PropertyTestBase.sol" data-lines-active="77" data-lines-covered="76">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(117, 90%, 45%, 0.15); color: hsl(117, 90%, 45%)">
                                98.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/util/ERC4626PropertyTestBase.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>76 / 77</strong> (98.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {IERC20} from &quot;../../util/IERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {IERC4626} from &quot;../../util/IERC4626.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {TestERC20Token} from &quot;./TestERC20Token.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {Actor} from &quot;../util/Actor.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {PropertiesAsserts} from &quot;../../util/PropertiesHelper.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>import {RedemptionProxy} from &quot;./RedemptionProxy.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>/// @notice This contract is used as a base contract for all 4626 property tests.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>contract CryticERC4626PropertyBase is PropertiesAsserts {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    TestERC20Token asset;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    IERC4626 vault;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    Actor alice;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    Actor bob; //remove?</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    RedemptionProxy redemptionProxy;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    // feature flags</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    bool supportsInternalTestingIface;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    function initialize(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        address _vault,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        address _asset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>        bool _supportsInternalTestingIface</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        vault = IERC4626(_vault);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        asset = TestERC20Token(_asset);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        alice = new Actor(vault);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        bob = new Actor(vault);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>        redemptionProxy = new RedemptionProxy(vault);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        supportsInternalTestingIface = _supportsInternalTestingIface;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    /// @notice Funds the `owner` address with `tokens` &amp; forces a token approval for the vault to spend owner&#39;s tokens.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    function prepareAddressForDeposit(address owner, uint256 tokens) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        asset.mint(owner, tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        asset.forceApproval(owner, address(vault), tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    /// @notice Measures the `target`&#39;s assets and shares, and emits events to assist in debugging property failures.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    /// @param target A address to target</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    /// @param name A name for the target address (alice, bob, vault, etc.)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    /// @param annotation An additional piece of metadata for debugging ie: &quot;before deposit&quot;, &quot;after mint&quot;, etc.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>    function measureAddressHoldings(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        address target,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        string memory name,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>        string memory annotation</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256 assetBalance, uint256 shareBalance) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>        assetBalance = asset.balanceOf(target);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        shareBalance = vault.balanceOf(target);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        string memory assetMsg = string(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>            abi.encodePacked(&quot;asset.balanceOf(&quot;, name, &quot;) (&quot;, annotation, &quot;)&quot;)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        emit LogUint256(assetMsg, assetBalance);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        string memory shareMsg = string(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>            abi.encodePacked(&quot;vault.balanceOf(&quot;, name, &quot;) (&quot;, annotation, &quot;)&quot;)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>        emit LogUint256(shareMsg, shareBalance);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>    /// @notice Prevents `party` from resolving to addresses which have special accounting rules.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    function restrictAddressToThirdParties(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>        uint256 partyIndex</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    ) internal view returns (address) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>        // set up 3 static third parties</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        partyIndex = partyIndex % 3;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        if (partyIndex == 0) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>            return address(this);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        if (partyIndex == 1) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>            return 0xaAaAaAaaAaAaAaaAaAAAAAAAAaaaAaAaAaaAaaAa;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        return 0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>    /// @notice Performs all the checks required to ensure a successful vault deposit. This includes funding the owner account and clamping token amounts as needed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>    ///         It is assumed that successful calls to requireValidDepositAmount imply that vault.deposit() will not revert. This implied property might not hold for certain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>    ///         vault implementations, and should be modified if exceptions are discovered.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    function requireValidDepositAmount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>        uint256 tokens</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        tokens = clampLte(tokens, vault.maxDeposit(receiver));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>        tokens = clampGt(tokens, 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(owner, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        // The following logic is intended to revert when an unreasonably large deposit is being made.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>        uint256 sharesMinted = vault.convertToShares(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>        uint256 currentShares = vault.balanceOf(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        vault.convertToAssets(sharesMinted + currentShares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        //uint256 sharesRedeemed = vault.previewWithdraw(tokensWithdrawn);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Tokens to use in deposit:&quot;, tokens);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        // configure with setting?</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>        require(vault.previewDeposit(tokens) &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>        return tokens;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>    /// @notice Performs all the checks required to ensure a successful vault mint. This includes funding the owner account and clamping token amounts as needed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>    ///         It is assumed that successful calls to requireValidDepositAmount imply that vault.mint() will not revert. This implied property might not hold for certain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>    ///         vault implementations, and should be modified if exceptions are discovered.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>    function requireValidMintAmount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, vault.maxMint(receiver));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        uint256 tokensDeposited = vault.previewMint(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>        prepareAddressForDeposit(owner, tokensDeposited);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        // The following logic is intended to revert when an unreasonably large mint is being made.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        uint256 currentShares = vault.balanceOf(receiver);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>        vault.previewRedeem(currentShares + shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Shares to use in mint:&quot;, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>        // configure with setting?</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>        // require(vault.previewMint(shares) &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>        return shares;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>    /// @notice Performs all the checks required to ensure a successful vault redeem. This includes funding the owner account and clamping token amounts as needed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>    ///         It is assumed that successful calls to requireValidDepositAmount imply that vault.redeem() will not revert. This implied property might not hold for certain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    ///         vault implementations, and should be modified if exceptions are discovered.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>    function requireValidRedeemAmount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        // should this be a configured setting?</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>        require(shares &gt; 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>        uint256 maxRedeem = vault.maxRedeem(owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>        require(maxRedeem &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>        uint256 ownerShares = vault.balanceOf(owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>        require(ownerShares &gt; 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, maxRedeem);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>        shares = clampLte(shares, ownerShares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>        // The following logic is intended to revert when an unreasonably large redemption is being made.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>        uint256 tokensWithdrawn = vault.convertToAssets(shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>        vault.previewRedeem(shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>        // should this be a configured setting?</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>        require(tokensWithdrawn &gt; 0);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Shares to use in redemption:&quot;, shares);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>        return shares;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>    /// @notice Performs all the checks required to ensure a successful vault withdraw. This includes funding the owner account and clamping token amounts as needed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    ///         It is assumed that successful calls to requireValidDepositAmount imply that vault.withdraw() will not revert. This implied property might not hold for certain</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>    ///         vault implementations, and should be modified if exceptions are discovered.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    function requireValidWithdrawAmount(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>        uint256 tokens</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>        uint256 maxWithdraw = vault.maxWithdraw(owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>        require(maxWithdraw &gt; 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>        uint256 ownerBalance = vault.balanceOf(owner);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>        require(ownerBalance &gt; 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>        uint256 sharesToRedeem = vault.previewWithdraw(tokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>        sharesToRedeem = clampLte(sharesToRedeem, vault.balanceOf(owner));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>        require(sharesToRedeem &lt;= ownerBalance);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>        // not easy to clamp these without making this code a lot more complex.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>        uint256 clampedTokens = vault.previewRedeem(sharesToRedeem);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>        require(clampedTokens &lt;= maxWithdraw);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>        // should this be a configured setting?</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>        require(sharesToRedeem &gt; 0);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>        // we don&#39;t need to check for unreasonably large withdraws because previewWithdraw would have reverted.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>        emit LogUint256(&quot;Tokens to use in withdraw:&quot;, clampedTokens);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>        return clampedTokens;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_util_IERC4626Internal_sol" data-file-path="lib/properties/contracts/ERC4626/util/IERC4626Internal.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/util/IERC4626Internal.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>/// @notice Developers may optionally implement these interfaces on their Vault contract to increase coverage/enable rounding tests.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>interface CryticIERC4626Internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>    /// @notice Called by the fuzzer. The vault implementation should use TestERC20Token.mint() to credit itself with the amount of profit.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    function recognizeProfit(uint256 profit) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    /// @notice Called by the fuzzer. The vault implementation should use TestERC20Token.burn()/.transfer() to account for the amount of loss.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    function recognizeLoss(uint256 loss) external;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_util_RedemptionProxy_sol" data-file-path="lib/properties/contracts/ERC4626/util/RedemptionProxy.sol" data-lines-active="9" data-lines-covered="9">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(120, 90%, 45%, 0.15); color: hsl(120, 90%, 45%)">
                                100.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/util/RedemptionProxy.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>9 / 9</strong> (100.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {IERC4626} from &quot;../../util/IERC4626.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract RedemptionProxy {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    IERC4626 vault;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    constructor(IERC4626 _vault) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>        vault = _vault;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    function redeemOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 tokensWithdrawn) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        tokensWithdrawn = vault.redeem(shares, receiver, owner);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    function withdrawOnBehalf(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        uint256 tokens,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    ) public returns (uint256 sharesRedeemed) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        sharesRedeemed = vault.withdraw(tokens, receiver, owner);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_ERC4626_util_TestERC20Token_sol" data-file-path="lib/properties/contracts/ERC4626/util/TestERC20Token.sol" data-lines-active="40" data-lines-covered="37">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(110, 90%, 45%, 0.15); color: hsl(110, 90%, 45%)">
                                92.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/ERC4626/util/TestERC20Token.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>37 / 40</strong> (92.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {IERC20} from &quot;../../util/IERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>contract TestERC20Token is IERC20 {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    string public name;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    string public symbol;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    uint8 public decimals;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    uint256 public totalSupply;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    mapping(address =&gt; uint256) public balanceOf;</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    mapping(address =&gt; mapping(address =&gt; uint256)) public allowance;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    constructor(string memory _name, string memory _symbol, uint8 _decimals) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        name = _name;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        symbol = _symbol;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        decimals = _decimals;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    function approve(address spender, uint256 amount) public returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        allowance[msg.sender][spender] = amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        emit Approval(msg.sender, spender, amount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    function transfer(address to, uint256 amount) public returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>        balanceOf[msg.sender] -= amount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        emit Transfer(msg.sender, to, amount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    function transferFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        address from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    ) public returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>        uint256 spenderAllowance = allowance[from][msg.sender];</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        if (spenderAllowance != type(uint256).max) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>            allowance[from][msg.sender] = spenderAllowance - amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>        balanceOf[from] -= amount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>        balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        emit Transfer(from, to, amount);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    function mint(address to, uint256 amount) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        totalSupply += amount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        emit Transfer(address(0), to, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>    function burn(address from, uint256 amount) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        totalSupply -= amount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        balanceOf[from] -= amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        emit Transfer(from, address(0), amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    function forceApproval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>        address account,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    ) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        allowance[account][spender] = amount;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        emit Approval(account, spender, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_util_IERC20_sol" data-file-path="lib/properties/contracts/util/IERC20.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/util/IERC20.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: MIT</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>interface IERC20 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>     * @dev Emitted when `value` tokens are moved from one account (`from`) to</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>     * another (`to`).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>     * Note that `value` may be zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    event Transfer(address indexed from, address indexed to, uint256 value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>     * @dev Emitted when the allowance of a `spender` for an `owner` is set by</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>     * a call to {approve}. `value` is the new allowance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    event Approval(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>        address indexed spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>        uint256 value</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>     * @dev Returns the amount of tokens in existence.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    function totalSupply() external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>     * @dev Returns the amount of tokens owned by `account`.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    function balanceOf(address account) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>     * @dev Moves `amount` tokens from the caller&#39;s account to `to`.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>     * Returns a boolean value indicating whether the operation succeeded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>     * Emits a {Transfer} event.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    function transfer(address to, uint256 amount) external returns (bool);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>     * @dev Returns the remaining number of tokens that `spender` will be</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>     * allowed to spend on behalf of `owner` through {transferFrom}. This is</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>     * zero by default.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>     * This value changes when {approve} or {transferFrom} are called.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>    function allowance(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>        address spender</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    ) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>     * @dev Sets `amount` as the allowance of `spender` over the caller&#39;s tokens.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>     * Returns a boolean value indicating whether the operation succeeded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>     * IMPORTANT: Beware that changing an allowance with this method brings the risk</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>     * that someone may use both the old and the new allowance by unfortunate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>     * transaction ordering. One possible solution to mitigate this race</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>     * condition is to first reduce the spender&#39;s allowance to 0 and set the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>     * desired value afterwards:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>     * Emits an {Approval} event.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    function approve(address spender, uint256 amount) external returns (bool);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>    /**</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>     * @dev Moves `amount` tokens from `from` to `to` using the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>     * allowance mechanism. `amount` is then deducted from the caller&#39;s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>     * allowance.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>     * Returns a boolean value indicating whether the operation succeeded.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>     *</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>     * Emits a {Transfer} event.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>     */</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    function transferFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        address from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>    ) external returns (bool);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>    function decimals() external returns (uint8);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_util_IERC4626_sol" data-file-path="lib/properties/contracts/util/IERC4626.sol" data-lines-active="0" data-lines-covered="0">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(0, 90%, 50%, 0.15); color: hsl(0, 90%, 50%)">
                                0.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/util/IERC4626.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>0 / 0</strong> (0.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: MIT</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import &quot;./IERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>interface IERC4626 is IERC20 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    event Deposit(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>        address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>        address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    event Withdraw(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>        address indexed receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    function asset() external view returns (IERC20);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    function deposit(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    ) external returns (uint256 shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    function mint(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        address receiver</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    ) external returns (uint256 assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    function withdraw(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    ) external returns (uint256 shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    function redeem(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    ) external returns (uint256 assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    function totalAssets() external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>    function convertToShares(uint256 assets) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>    function convertToAssets(uint256 shares) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>    function previewDeposit(uint256 assets) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>    function previewMint(uint256 shares) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>    function previewWithdraw(uint256 assets) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    function previewRedeem(uint256 shares) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    function maxDeposit(address) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    function maxMint(address) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    function maxWithdraw(address owner) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    function maxRedeem(address owner) external view returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_properties_contracts_util_PropertiesHelper_sol" data-file-path="lib/properties/contracts/util/PropertiesHelper.sol" data-lines-active="95" data-lines-covered="62">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(78, 90%, 45%, 0.15); color: hsl(78, 90%, 45%)">
                                65.0%
                            </span>
                            <span class="file-name">lib/properties/contracts/util/PropertiesHelper.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>62 / 95</strong> (65.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-or-later</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>abstract contract PropertiesAsserts {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>    event LogUint256(string, uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>    event LogAddress(string, address);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>    event LogString(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    event AssertFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    event AssertEqFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    event AssertNeqFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    event AssertGteFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    event AssertGtFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    event AssertLteFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    event AssertLtFail(string);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    function assertWithMsg(bool b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        if (!b) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>            emit AssertFail(reason);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is equal to b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    function assertEq(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>        if (a != b) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>                &quot;!=&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>                &quot;, reason: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>            emit AssertEqFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertEq</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    function assertEq(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>        if (a != b) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>                &quot;!=&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>                &quot;, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>            emit AssertEqFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is not equal to b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    function assertNeq(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>        if (a == b) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>                &quot;==&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>                &quot;, reason: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>            emit AssertNeqFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertNeq</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>    function assertNeq(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        if (a == b) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>                &quot;==&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>                &quot;, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>            emit AssertNeqFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is greater than or equal to b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>    function assertGte(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        if (!(a &gt;= b)) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>                &quot;&lt;&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>            emit AssertGteFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertGte</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>    function assertGte(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>        if (!(a &gt;= b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>                &quot;&lt;&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>            emit AssertGteFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is greater than b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>    function assertGt(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>                &quot;&lt;=&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>            emit AssertGtFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertGt</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>    function assertGt(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>                &quot;&lt;=&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>            emit AssertGtFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is less than or equal to b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>    function assertLte(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>        if (!(a &lt;= b)) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>                &quot;&gt;&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>            emit AssertLteFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertLte</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>    function assertLte(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>        if (!(a &lt;= b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>                &quot;&gt;&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>            emit AssertLteFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>    /// @notice asserts that a is less than b. Violations are logged using reason.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    function assertLt(uint256 a, uint256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>        if (!(a &lt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>                &quot;&gt;=&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>            emit AssertLtFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of assertLt</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>    function assertLt(int256 a, int256 b, string memory reason) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>        if (!(a &lt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>            string memory bStr = PropertiesLibString.toString(b);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>            bytes memory assertMsg = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre>                &quot;Invalid: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>                &quot;&gt;=&quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>                bStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>                &quot; failed, reason: &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>                reason</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>            emit AssertLtFail(string(assertMsg));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>            assert(false);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>    /// @notice Clamps value to be between low and high, both inclusive</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>    function clampBetween(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>        uint256 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>        uint256 low,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>        uint256 high</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>    ) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre>        if (value &lt; low || value &gt; high) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>            uint ans = low + (value % (high - low + 1));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>            string memory ansStr = PropertiesLibString.toString(ans);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>                valueStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>                ansStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">257</td>
                                    <td class="row-source"><pre>            return ans;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">258</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">259</td>
                                    <td class="row-source"><pre>        return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">260</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">261</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">262</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of clampBetween</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">263</td>
                                    <td class="row-source"><pre>    function clampBetween(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">264</td>
                                    <td class="row-source"><pre>        int256 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">265</td>
                                    <td class="row-source"><pre>        int256 low,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">266</td>
                                    <td class="row-source"><pre>        int256 high</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">267</td>
                                    <td class="row-source"><pre>    ) internal returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">268</td>
                                    <td class="row-source"><pre>        if (value &lt; low || value &gt; high) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">269</td>
                                    <td class="row-source"><pre>            int range = high - low + 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">270</td>
                                    <td class="row-source"><pre>            int clamped = (value - low) % (range);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">271</td>
                                    <td class="row-source"><pre>            if (clamped &lt; 0) clamped += range;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">272</td>
                                    <td class="row-source"><pre>            int ans = low + clamped;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">273</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">274</td>
                                    <td class="row-source"><pre>            string memory ansStr = PropertiesLibString.toString(ans);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">275</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">276</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">277</td>
                                    <td class="row-source"><pre>                valueStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">278</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">279</td>
                                    <td class="row-source"><pre>                ansStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">280</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">281</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">282</td>
                                    <td class="row-source"><pre>            return ans;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">283</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">284</td>
                                    <td class="row-source"><pre>        return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">285</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">286</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">287</td>
                                    <td class="row-source"><pre>    /// @notice clamps a to be less than b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">288</td>
                                    <td class="row-source"><pre>    function clampLt(uint256 a, uint256 b) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">289</td>
                                    <td class="row-source"><pre>        if (!(a &lt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">290</td>
                                    <td class="row-source"><pre>            assertNeq(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">291</td>
                                    <td class="row-source"><pre>                b,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">292</td>
                                    <td class="row-source"><pre>                0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">293</td>
                                    <td class="row-source"><pre>                &quot;clampLt cannot clamp value a to be less than zero. Check your inputs/assumptions.&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">294</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">295</td>
                                    <td class="row-source"><pre>            uint256 value = a % b;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">296</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">297</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">298</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">299</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">300</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">301</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">302</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">303</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">304</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">305</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">306</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">307</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">308</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">309</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">310</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of clampLt</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">311</td>
                                    <td class="row-source"><pre>    function clampLt(int256 a, int256 b) internal returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">312</td>
                                    <td class="row-source"><pre>        if (!(a &lt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">313</td>
                                    <td class="row-source"><pre>            int256 value = b - 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">314</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">315</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">316</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">317</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">318</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">319</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">320</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">321</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">322</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">323</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">324</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">325</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">326</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">327</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">328</td>
                                    <td class="row-source"><pre>    /// @notice clamps a to be less than or equal to b</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">329</td>
                                    <td class="row-source"><pre>    function clampLte(uint256 a, uint256 b) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">330</td>
                                    <td class="row-source"><pre>        if (!(a &lt;= b)) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">331</td>
                                    <td class="row-source"><pre>            uint256 value = a % (b + 1);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">332</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">333</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">334</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">335</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">336</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">337</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">338</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">339</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">340</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">341</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">342</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">343</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">344</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">345</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">346</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of clampLte</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">347</td>
                                    <td class="row-source"><pre>    function clampLte(int256 a, int256 b) internal returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">348</td>
                                    <td class="row-source"><pre>        if (!(a &lt;= b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">349</td>
                                    <td class="row-source"><pre>            int256 value = b;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">350</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">351</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">352</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">353</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">354</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">355</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">356</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">357</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">358</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">359</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">360</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">361</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">362</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">363</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">364</td>
                                    <td class="row-source"><pre>    /// @notice clamps a to be greater than b</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">365</td>
                                    <td class="row-source"><pre>    function clampGt(uint256 a, uint256 b) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">366</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">367</td>
                                    <td class="row-source"><pre>            assertNeq(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">368</td>
                                    <td class="row-source"><pre>                b,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">369</td>
                                    <td class="row-source"><pre>                type(uint256).max,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">370</td>
                                    <td class="row-source"><pre>                &quot;clampGt cannot clamp value a to be larger than uint256.max. Check your inputs/assumptions.&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">371</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">372</td>
                                    <td class="row-source"><pre>            uint256 value = b + 1;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">373</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">374</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">375</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">376</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">377</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">378</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">379</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">380</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">381</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">382</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">383</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">384</td>
                                    <td class="row-source"><pre>            return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">385</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">386</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">387</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">388</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of clampGt</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">389</td>
                                    <td class="row-source"><pre>    function clampGt(int256 a, int256 b) internal returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">390</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">391</td>
                                    <td class="row-source"><pre>            int256 value = b + 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">392</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">393</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">394</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">395</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">396</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">397</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">398</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">399</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">400</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">401</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">402</td>
                                    <td class="row-source"><pre>        } else {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">403</td>
                                    <td class="row-source"><pre>            return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">404</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">405</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">406</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">407</td>
                                    <td class="row-source"><pre>    /// @notice clamps a to be greater than or equal to b</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">408</td>
                                    <td class="row-source"><pre>    function clampGte(uint256 a, uint256 b) internal returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">409</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">410</td>
                                    <td class="row-source"><pre>            uint256 value = b;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">411</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">412</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">413</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">414</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">415</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">416</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">417</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">418</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">419</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">420</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">421</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">422</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">423</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">424</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">425</td>
                                    <td class="row-source"><pre>    /// @notice int256 version of clampGte</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">426</td>
                                    <td class="row-source"><pre>    function clampGte(int256 a, int256 b) internal returns (int256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">427</td>
                                    <td class="row-source"><pre>        if (!(a &gt; b)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">428</td>
                                    <td class="row-source"><pre>            int256 value = b;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">429</td>
                                    <td class="row-source"><pre>            string memory aStr = PropertiesLibString.toString(a);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">430</td>
                                    <td class="row-source"><pre>            string memory valueStr = PropertiesLibString.toString(value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">431</td>
                                    <td class="row-source"><pre>            bytes memory message = abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">432</td>
                                    <td class="row-source"><pre>                &quot;Clamping value &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">433</td>
                                    <td class="row-source"><pre>                aStr,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">434</td>
                                    <td class="row-source"><pre>                &quot; to &quot;,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">435</td>
                                    <td class="row-source"><pre>                valueStr</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">436</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">437</td>
                                    <td class="row-source"><pre>            emit LogString(string(message));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">438</td>
                                    <td class="row-source"><pre>            return value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">439</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">440</td>
                                    <td class="row-source"><pre>        return a;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">441</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">442</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">443</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">444</td>
                                    <td class="row-source"><pre>/// @notice Efficient library for creating string representations of integers.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">445</td>
                                    <td class="row-source"><pre>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/LibString.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">446</td>
                                    <td class="row-source"><pre>/// @author Modified from Solady (https://github.com/Vectorized/solady/blob/main/src/utils/LibString.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">447</td>
                                    <td class="row-source"><pre>/// @dev Name of the library is modified to prevent collisions with contract-under-test uses of LibString</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">448</td>
                                    <td class="row-source"><pre>library PropertiesLibString {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">449</td>
                                    <td class="row-source"><pre>    function toString(int256 value) internal pure returns (string memory str) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">450</td>
                                    <td class="row-source"><pre>        uint256 absValue = value &gt;= 0 ? uint256(value) : uint256(-value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">451</td>
                                    <td class="row-source"><pre>        str = toString(absValue);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">452</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">453</td>
                                    <td class="row-source"><pre>        if (value &lt; 0) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">454</td>
                                    <td class="row-source"><pre>            str = string(abi.encodePacked(&quot;-&quot;, str));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">455</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">456</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">457</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">458</td>
                                    <td class="row-source"><pre>    function toString(uint256 value) internal pure returns (string memory str) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">459</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">460</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">461</td>
                                    <td class="row-source"><pre>            // The maximum value of a uint256 contains 78 digits (1 byte per digit), but we allocate 160 bytes</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">462</td>
                                    <td class="row-source"><pre>            // to keep the free memory pointer word aligned. We&#39;ll need 1 word for the length, 1 word for the</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">463</td>
                                    <td class="row-source"><pre>            // trailing zeros padding, and 3 other words for a max of 78 digits. In total: 5 * 32 = 160 bytes.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">464</td>
                                    <td class="row-source"><pre>            let newFreeMemoryPointer := add(mload(0x40), 160)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">465</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">466</td>
                                    <td class="row-source"><pre>            // Update the free memory pointer to avoid overriding our string.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">467</td>
                                    <td class="row-source"><pre>            mstore(0x40, newFreeMemoryPointer)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">468</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">469</td>
                                    <td class="row-source"><pre>            // Assign str to the end of the zone of newly allocated memory.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">470</td>
                                    <td class="row-source"><pre>            str := sub(newFreeMemoryPointer, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">471</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">472</td>
                                    <td class="row-source"><pre>            // Clean the last word of memory it may not be overwritten.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">473</td>
                                    <td class="row-source"><pre>            mstore(str, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">474</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">475</td>
                                    <td class="row-source"><pre>            // Cache the end of the memory to calculate the length later.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">476</td>
                                    <td class="row-source"><pre>            let end := str</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">477</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">478</td>
                                    <td class="row-source"><pre>            // We write the string from rightmost digit to leftmost digit.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">479</td>
                                    <td class="row-source"><pre>            // The following is essentially a do-while loop that also handles the zero case.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">480</td>
                                    <td class="row-source"><pre>            // prettier-ignore</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">481</td>
                                    <td class="row-source"><pre>            for { let temp := value } 1 {} {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">482</td>
                                    <td class="row-source"><pre>                // Move the pointer 1 byte to the left.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">483</td>
                                    <td class="row-source"><pre>                str := sub(str, 1)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">484</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">485</td>
                                    <td class="row-source"><pre>                // Write the character to the pointer.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">486</td>
                                    <td class="row-source"><pre>                // The ASCII index of the &#39;0&#39; character is 48.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">487</td>
                                    <td class="row-source"><pre>                mstore8(str, add(48, mod(temp, 10)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">488</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">489</td>
                                    <td class="row-source"><pre>                // Keep dividing temp until zero.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">490</td>
                                    <td class="row-source"><pre>                temp := div(temp, 10)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">491</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">492</td>
                                    <td class="row-source"><pre>                 // prettier-ignore</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">493</td>
                                    <td class="row-source"><pre>                if iszero(temp) { break }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">494</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">495</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">496</td>
                                    <td class="row-source"><pre>            // Compute and cache the final total length of the string.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">497</td>
                                    <td class="row-source"><pre>            let length := sub(end, str)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">498</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">499</td>
                                    <td class="row-source"><pre>            // Move the pointer 32 bytes leftwards to make room for the length.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">500</td>
                                    <td class="row-source"><pre>            str := sub(str, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">501</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">502</td>
                                    <td class="row-source"><pre>            // Store the string&#39;s length at the start of memory allocated for our string.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">503</td>
                                    <td class="row-source"><pre>            mstore(str, length)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">504</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">505</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">506</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">507</td>
                                    <td class="row-source"><pre>    function toString(address value) internal pure returns (string memory str) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">508</td>
                                    <td class="row-source"><pre>        bytes memory s = new bytes(40);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">509</td>
                                    <td class="row-source"><pre>        for (uint i = 0; i &lt; 20; i++) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">510</td>
                                    <td class="row-source"><pre>            bytes1 b = bytes1(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">511</td>
                                    <td class="row-source"><pre>                uint8(uint(uint160(value)) / (2 ** (8 * (19 - i))))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">512</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">513</td>
                                    <td class="row-source"><pre>            bytes1 hi = bytes1(uint8(b) / 16);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">514</td>
                                    <td class="row-source"><pre>            bytes1 lo = bytes1(uint8(b) - 16 * uint8(hi));</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">515</td>
                                    <td class="row-source"><pre>            s[2 * i] = char(hi);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">516</td>
                                    <td class="row-source"><pre>            s[2 * i + 1] = char(lo);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">517</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">518</td>
                                    <td class="row-source"><pre>        return string(s);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">519</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">520</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">521</td>
                                    <td class="row-source"><pre>    function char(bytes1 b) internal pure returns (bytes1 c) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">522</td>
                                    <td class="row-source"><pre>        if (uint8(b) &lt; 10) return bytes1(uint8(b) + 0x30);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">523</td>
                                    <td class="row-source"><pre>        else return bytes1(uint8(b) + 0x57);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">524</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">525</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">526</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_solmate_src_tokens_ERC20_sol" data-file-path="lib/solmate/src/tokens/ERC20.sol" data-lines-active="70" data-lines-covered="31">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(52, 90%, 50%, 0.15); color: hsl(52, 90%, 50%)">
                                44.0%
                            </span>
                            <span class="file-name">lib/solmate/src/tokens/ERC20.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>31 / 70</strong> (44.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-only</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity &gt;=0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>/// @notice Modern and gas efficient ERC20 + EIP-2612 implementation.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/tokens/ERC20.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @author Modified from Uniswap (https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2ERC20.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>/// @dev Do not manually set balances without updating totalSupply, as the sum of all user balances must not exceed it.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>abstract contract ERC20 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>                                 EVENTS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    event Transfer(address indexed from, address indexed to, uint256 amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    event Approval(address indexed owner, address indexed spender, uint256 amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>                            METADATA STORAGE</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    string public name;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    string public symbol;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>    uint8 public immutable decimals;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>                              ERC20 STORAGE</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>    uint256 public totalSupply;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>    mapping(address =&gt; uint256) public balanceOf;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    mapping(address =&gt; mapping(address =&gt; uint256)) public allowance;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>                            EIP-2612 STORAGE</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>    uint256 internal immutable INITIAL_CHAIN_ID;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>    bytes32 internal immutable INITIAL_DOMAIN_SEPARATOR;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>    mapping(address =&gt; uint256) public nonces;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>                               CONSTRUCTOR</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>    constructor(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre>        string memory _name,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        string memory _symbol,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        uint8 _decimals</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>    ) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        name = _name;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        symbol = _symbol;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        decimals = _decimals;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        INITIAL_CHAIN_ID = block.chainid;</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        INITIAL_DOMAIN_SEPARATOR = computeDomainSeparator();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>                               ERC20 LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>    function approve(address spender, uint256 amount) public virtual returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>        allowance[msg.sender][spender] = amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        emit Approval(msg.sender, spender, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>    function transfer(address to, uint256 amount) public virtual returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        balanceOf[msg.sender] -= amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>        // Cannot overflow because the sum of all user</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        // balances can&#39;t exceed the max uint256 value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>            balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>        emit Transfer(msg.sender, to, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>    function transferFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        address from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    ) public virtual returns (bool) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        uint256 allowed = allowance[from][msg.sender]; // Saves gas for limited approvals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        if (allowed != type(uint256).max) allowance[from][msg.sender] = allowed - amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        balanceOf[from] -= amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>        // Cannot overflow because the sum of all user</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        // balances can&#39;t exceed the max uint256 value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>            balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        emit Transfer(from, to, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        return true;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>                             EIP-2612 LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    function permit(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>        address owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>        address spender,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>        uint256 value,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>        uint256 deadline,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>        uint8 v,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>        bytes32 r,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>        bytes32 s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    ) public virtual {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        require(deadline &gt;= block.timestamp, &quot;PERMIT_DEADLINE_EXPIRED&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        // Unchecked because the only math done is incrementing</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>        // the owner&#39;s nonce which cannot realistically overflow.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>            address recoveredAddress = ecrecover(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>                keccak256(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>                    abi.encodePacked(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>                        &quot;\x19\x01&quot;,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>                        DOMAIN_SEPARATOR(),</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre>                        keccak256(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>                            abi.encode(</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>                                keccak256(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>                                    &quot;Permit(address owner,address spender,uint256 value,uint256 nonce,uint256 deadline)&quot;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>                                ),</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>                                owner,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>                                spender,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>                                value,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>                                nonces[owner]++,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>                                deadline</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>                            )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>                        )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>                    )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>                ),</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>                v,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>                r,</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre>                s</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>            require(recoveredAddress != address(0) &amp;&amp; recoveredAddress == owner, &quot;INVALID_SIGNER&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>            allowance[recoveredAddress][spender] = value;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre>        emit Approval(owner, spender, value);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    function DOMAIN_SEPARATOR() public view virtual returns (bytes32) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre>        return block.chainid == INITIAL_CHAIN_ID ? INITIAL_DOMAIN_SEPARATOR : computeDomainSeparator();</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    function computeDomainSeparator() internal view virtual returns (bytes32) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>        return</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>            keccak256(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>                abi.encode(</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>                    keccak256(&quot;EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)&quot;),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>                    keccak256(bytes(name)),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>                    keccak256(&quot;1&quot;),</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>                    block.chainid,</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>                    address(this)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>                )</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>            );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>                        INTERNAL MINT/BURN LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>    function _mint(address to, uint256 amount) internal virtual {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>        totalSupply += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>        // Cannot overflow because the sum of all user</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>        // balances can&#39;t exceed the max uint256 value.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>            balanceOf[to] += amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre>        emit Transfer(address(0), to, amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>    function _burn(address from, uint256 amount) internal virtual {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>        balanceOf[from] -= amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>        // Cannot underflow because a user&#39;s balance</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>        // will never be larger than the total supply.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>        unchecked {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre>            totalSupply -= amount;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre>        emit Transfer(from, address(0), amount);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_solmate_src_tokens_ERC4626_sol" data-file-path="lib/solmate/src/tokens/ERC4626.sol" data-lines-active="60" data-lines-covered="60">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(120, 90%, 45%, 0.15); color: hsl(120, 90%, 45%)">
                                100.0%
                            </span>
                            <span class="file-name">lib/solmate/src/tokens/ERC4626.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>60 / 60</strong> (100.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-only</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity &gt;=0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ERC20} from &quot;../tokens/ERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {SafeTransferLib} from &quot;../utils/SafeTransferLib.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {FixedPointMathLib} from &quot;../utils/FixedPointMathLib.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>/// @notice Minimal ERC4626 tokenized Vault implementation.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/tokens/ERC4626.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>abstract contract ERC4626 is ERC20 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>    using SafeTransferLib for ERC20;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    using FixedPointMathLib for uint256;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>                                 EVENTS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    event Withdraw(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        address indexed caller,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        address indexed receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        address indexed owner,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        uint256 shares</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    );</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>                               IMMUTABLES</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    ERC20 public immutable asset;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    constructor(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>        ERC20 _asset,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        string memory _name,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        string memory _symbol</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>    ) ERC20(_name, _symbol, _asset.decimals()) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        asset = _asset;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>                        DEPOSIT/WITHDRAWAL LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>    function deposit(uint256 assets, address receiver) public virtual returns (uint256 shares) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>        // Check for rounding error since we round down in previewDeposit.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>        require((shares = previewDeposit(assets)) != 0, &quot;ZERO_SHARES&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>        // Need to transfer before minting or ERC777s could reenter.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>        asset.safeTransferFrom(msg.sender, address(this), assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>        _mint(receiver, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        emit Deposit(msg.sender, receiver, assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>        afterDeposit(assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>    function mint(uint256 shares, address receiver) public virtual returns (uint256 assets) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>        assets = previewMint(shares); // No need to check for rounding error, previewMint rounds up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>        // Need to transfer before minting or ERC777s could reenter.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>        asset.safeTransferFrom(msg.sender, address(this), assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>        _mint(receiver, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        emit Deposit(msg.sender, receiver, assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        afterDeposit(assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>    function withdraw(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        uint256 assets,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>    ) public virtual returns (uint256 shares) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>        shares = previewWithdraw(assets); // No need to check for rounding error, previewWithdraw rounds up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>        if (msg.sender != owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>        beforeWithdraw(assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>        _burn(owner, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>        emit Withdraw(msg.sender, receiver, owner, assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>        asset.safeTransfer(receiver, assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>    function redeem(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        uint256 shares,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        address receiver,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>        address owner</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>    ) public virtual returns (uint256 assets) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre>        if (msg.sender != owner) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>            uint256 allowed = allowance[owner][msg.sender]; // Saves gas for limited approvals.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>            if (allowed != type(uint256).max) allowance[owner][msg.sender] = allowed - shares;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>        // Check for rounding error since we round down in previewRedeem.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>        require((assets = previewRedeem(shares)) != 0, &quot;ZERO_ASSETS&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>        beforeWithdraw(assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>        _burn(owner, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>        emit Withdraw(msg.sender, receiver, owner, assets, shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>        asset.safeTransfer(receiver, assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>                            ACCOUNTING LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>    function totalAssets() public view virtual returns (uint256);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>    function convertToShares(uint256 assets) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre>        return supply == 0 ? assets : assets.mulDivDown(supply, totalAssets());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre>    function convertToAssets(uint256 shares) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>        return supply == 0 ? shares : shares.mulDivDown(totalAssets(), supply);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>    function previewDeposit(uint256 assets) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>        return convertToShares(assets);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>    function previewMint(uint256 shares) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre>        return supply == 0 ? shares : shares.mulDivUp(totalAssets(), supply);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre>    function previewWithdraw(uint256 assets) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>        uint256 supply = totalSupply; // Saves an extra SLOAD if totalSupply is non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>        return supply == 0 ? assets : assets.mulDivUp(supply, totalAssets());</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>    function previewRedeem(uint256 shares) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>        return convertToAssets(shares);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>                     DEPOSIT/WITHDRAWAL LIMIT LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>    function maxDeposit(address) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>        return type(uint256).max;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    function maxMint(address) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>        return type(uint256).max;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre>    function maxWithdraw(address owner) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>        return convertToAssets(balanceOf[owner]);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>    function maxRedeem(address owner) public view virtual returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre>        return balanceOf[owner];</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>                          INTERNAL HOOKS LOGIC</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>    function beforeWithdraw(uint256 assets, uint256 shares) internal virtual {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>    function afterDeposit(uint256 assets, uint256 shares) internal virtual {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_solmate_src_utils_FixedPointMathLib_sol" data-file-path="lib/solmate/src/utils/FixedPointMathLib.sol" data-lines-active="11" data-lines-covered="10">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(108, 90%, 45%, 0.15); color: hsl(108, 90%, 45%)">
                                90.0%
                            </span>
                            <span class="file-name">lib/solmate/src/utils/FixedPointMathLib.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>10 / 11</strong> (90.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-only</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity &gt;=0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>/// @notice Arithmetic library with operations for fixed-point numbers.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/FixedPointMathLib.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @author Inspired by USM (https://github.com/usmfum/USM/blob/master/contracts/WadMath.sol)</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>library FixedPointMathLib {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>                    SIMPLIFIED FIXED POINT OPERATIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    uint256 internal constant MAX_UINT256 = 2**256 - 1;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    uint256 internal constant WAD = 1e18; // The scalar of ETH and most ERC20s.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>    function mulWadDown(uint256 x, uint256 y) internal pure returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        return mulDivDown(x, y, WAD); // Equivalent to (x * y) / WAD rounded down.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>    function mulWadUp(uint256 x, uint256 y) internal pure returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        return mulDivUp(x, y, WAD); // Equivalent to (x * y) / WAD rounded up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    function divWadDown(uint256 x, uint256 y) internal pure returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>        return mulDivDown(x, WAD, y); // Equivalent to (x * WAD) / y rounded down.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    function divWadUp(uint256 x, uint256 y) internal pure returns (uint256) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        return mulDivUp(x, WAD, y); // Equivalent to (x * WAD) / y rounded up.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>                    LOW LEVEL FIXED POINT OPERATIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>    function mulDivDown(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre>        uint256 x,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        uint256 y,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        uint256 denominator</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>    ) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>            // Equivalent to require(denominator != 0 &amp;&amp; (y == 0 || x &lt;= type(uint256).max / y))</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>            if iszero(mul(denominator, iszero(mul(y, gt(x, div(MAX_UINT256, y)))))) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>                revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre>            // Divide x * y by the denominator.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>            z := div(mul(x, y), denominator)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>    function mulDivUp(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>        uint256 x,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>        uint256 y,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>        uint256 denominator</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>    ) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>            // Equivalent to require(denominator != 0 &amp;&amp; (y == 0 || x &lt;= type(uint256).max / y))</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>            if iszero(mul(denominator, iszero(mul(y, gt(x, div(MAX_UINT256, y)))))) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre>                revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>            // If x * y modulo the denominator is strictly greater than 0,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>            // 1 is added to round up the division of x * y by the denominator.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>            z := add(gt(mod(mul(x, y), denominator), 0), div(mul(x, y), denominator))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>    function rpow(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>        uint256 x,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>        uint256 n,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre>        uint256 scalar</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>    ) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>            switch x</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre>            case 0 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>                switch n</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>                case 0 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>                    // 0 ** 0 = 1</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre>                    z := scalar</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>                default {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>                    // 0 ** n = 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>                    z := 0</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre>            default {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>                switch mod(n, 2)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>                case 0 {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre>                    // If n is even, store scalar in z for now.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>                    z := scalar</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>                default {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>                    // If n is odd, store x in z for now.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>                    z := x</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>                // Shifting right by 1 is like dividing by 2.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>                let half := shr(1, scalar)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>                for {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre>                    // Shift n right by 1 before looping to halve it.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>                    n := shr(1, n)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>                } n {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>                    // Shift n right by 1 each iteration to halve it.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>                    n := shr(1, n)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre>                } {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>                    // Revert immediately if x ** 2 would overflow.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>                    // Equivalent to iszero(eq(div(xx, x), x)) here.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>                    if shr(128, x) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre>                        revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>                    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>                    // Store x squared.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>                    let xx := mul(x, x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>                    // Round to the nearest number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre>                    let xxRound := add(xx, half)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>                    // Revert if xx + half overflowed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>                    if lt(xxRound, xx) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre>                        revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">126</td>
                                    <td class="row-source"><pre>                    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">127</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">128</td>
                                    <td class="row-source"><pre>                    // Set x to scaled xxRound.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">129</td>
                                    <td class="row-source"><pre>                    x := div(xxRound, scalar)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">130</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">131</td>
                                    <td class="row-source"><pre>                    // If n is even:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">132</td>
                                    <td class="row-source"><pre>                    if mod(n, 2) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">133</td>
                                    <td class="row-source"><pre>                        // Compute z * x.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">134</td>
                                    <td class="row-source"><pre>                        let zx := mul(z, x)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">135</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">136</td>
                                    <td class="row-source"><pre>                        // If z * x overflowed:</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">137</td>
                                    <td class="row-source"><pre>                        if iszero(eq(div(zx, x), z)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">138</td>
                                    <td class="row-source"><pre>                            // Revert if x is non-zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">139</td>
                                    <td class="row-source"><pre>                            if iszero(iszero(x)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">140</td>
                                    <td class="row-source"><pre>                                revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">141</td>
                                    <td class="row-source"><pre>                            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">142</td>
                                    <td class="row-source"><pre>                        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">143</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">144</td>
                                    <td class="row-source"><pre>                        // Round to the nearest number.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">145</td>
                                    <td class="row-source"><pre>                        let zxRound := add(zx, half)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">146</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">147</td>
                                    <td class="row-source"><pre>                        // Revert if zx + half overflowed.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">148</td>
                                    <td class="row-source"><pre>                        if lt(zxRound, zx) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">149</td>
                                    <td class="row-source"><pre>                            revert(0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">150</td>
                                    <td class="row-source"><pre>                        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">151</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">152</td>
                                    <td class="row-source"><pre>                        // Return properly scaled zxRound.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">153</td>
                                    <td class="row-source"><pre>                        z := div(zxRound, scalar)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">154</td>
                                    <td class="row-source"><pre>                    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">155</td>
                                    <td class="row-source"><pre>                }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">156</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">157</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">158</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">159</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">160</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">161</td>
                                    <td class="row-source"><pre>                        GENERAL NUMBER UTILITIES</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">162</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">163</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">164</td>
                                    <td class="row-source"><pre>    function sqrt(uint256 x) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">165</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">166</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">167</td>
                                    <td class="row-source"><pre>            let y := x // We start y at x, which will help us make our initial estimate.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">168</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">169</td>
                                    <td class="row-source"><pre>            z := 181 // The &quot;correct&quot; value is 1, but this saves a multiplication later.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">170</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">171</td>
                                    <td class="row-source"><pre>            // This segment is to get a reasonable initial estimate for the Babylonian method. With a bad</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">172</td>
                                    <td class="row-source"><pre>            // start, the correct # of bits increases ~linearly each iteration instead of ~quadratically.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">173</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">174</td>
                                    <td class="row-source"><pre>            // We check y &gt;= 2^(k + 8) but shift right by k bits</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">175</td>
                                    <td class="row-source"><pre>            // each branch to ensure that if x &gt;= 256, then y &gt;= 256.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">176</td>
                                    <td class="row-source"><pre>            if iszero(lt(y, 0x10000000000000000000000000000000000)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">177</td>
                                    <td class="row-source"><pre>                y := shr(128, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">178</td>
                                    <td class="row-source"><pre>                z := shl(64, z)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">179</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">180</td>
                                    <td class="row-source"><pre>            if iszero(lt(y, 0x1000000000000000000)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">181</td>
                                    <td class="row-source"><pre>                y := shr(64, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">182</td>
                                    <td class="row-source"><pre>                z := shl(32, z)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">183</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">184</td>
                                    <td class="row-source"><pre>            if iszero(lt(y, 0x10000000000)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">185</td>
                                    <td class="row-source"><pre>                y := shr(32, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">186</td>
                                    <td class="row-source"><pre>                z := shl(16, z)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">187</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">188</td>
                                    <td class="row-source"><pre>            if iszero(lt(y, 0x1000000)) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">189</td>
                                    <td class="row-source"><pre>                y := shr(16, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">190</td>
                                    <td class="row-source"><pre>                z := shl(8, z)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">191</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">192</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">193</td>
                                    <td class="row-source"><pre>            // Goal was to get z*z*y within a small factor of x. More iterations could</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">194</td>
                                    <td class="row-source"><pre>            // get y in a tighter range. Currently, we will have y in [256, 256*2^16).</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">195</td>
                                    <td class="row-source"><pre>            // We ensured y &gt;= 256 so that the relative difference between y and y+1 is small.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">196</td>
                                    <td class="row-source"><pre>            // That&#39;s not possible if x &lt; 256 but we can just verify those cases exhaustively.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">197</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">198</td>
                                    <td class="row-source"><pre>            // Now, z*z*y &lt;= x &lt; z*z*(y+1), and y &lt;= 2^(16+8), and either y &gt;= 256, or x &lt; 256.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">199</td>
                                    <td class="row-source"><pre>            // Correctness can be checked exhaustively for x &lt; 256, so we assume y &gt;= 256.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">200</td>
                                    <td class="row-source"><pre>            // Then z*sqrt(y) is within sqrt(257)/sqrt(256) of sqrt(x), or about 20bps.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">201</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">202</td>
                                    <td class="row-source"><pre>            // For s in the range [1/256, 256], the estimate f(s) = (181/1024) * (s+1) is in the range</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">203</td>
                                    <td class="row-source"><pre>            // (1/2.84 * sqrt(s), 2.84 * sqrt(s)), with largest error when s = 1 and when s = 256 or 1/256.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">204</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">205</td>
                                    <td class="row-source"><pre>            // Since y is in [256, 256*2^16), let a = y/65536, so that a is in [1/256, 256). Then we can estimate</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">206</td>
                                    <td class="row-source"><pre>            // sqrt(y) using sqrt(65536) * 181/1024 * (a + 1) = 181/4 * (y + 65536)/65536 = 181 * (y + 65536)/2^18.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">207</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">208</td>
                                    <td class="row-source"><pre>            // There is no overflow risk here since y &lt; 2^136 after the first branch above.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">209</td>
                                    <td class="row-source"><pre>            z := shr(18, mul(z, add(y, 65536))) // A mul() is saved from starting z at 181.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">210</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">211</td>
                                    <td class="row-source"><pre>            // Given the worst case multiplicative error of 2.84 above, 7 iterations should be enough.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">212</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">213</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">214</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">215</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">216</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">217</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">218</td>
                                    <td class="row-source"><pre>            z := shr(1, add(z, div(x, z)))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">219</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">220</td>
                                    <td class="row-source"><pre>            // If x+1 is a perfect square, the Babylonian method cycles between</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">221</td>
                                    <td class="row-source"><pre>            // floor(sqrt(x)) and ceil(sqrt(x)). This statement ensures we return floor.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">222</td>
                                    <td class="row-source"><pre>            // See: https://en.wikipedia.org/wiki/Integer_square_root#Using_only_integer_division</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">223</td>
                                    <td class="row-source"><pre>            // Since the ceil is rare, we save gas on the assignment and repeat division in the rare case.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">224</td>
                                    <td class="row-source"><pre>            // If you don&#39;t care whether the floor or ceil square root is returned, you can remove this statement.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">225</td>
                                    <td class="row-source"><pre>            z := sub(z, lt(div(x, z), z))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">226</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">227</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">228</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">229</td>
                                    <td class="row-source"><pre>    function unsafeMod(uint256 x, uint256 y) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">230</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">231</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">232</td>
                                    <td class="row-source"><pre>            // Mod x by y. Note this will return</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">233</td>
                                    <td class="row-source"><pre>            // 0 instead of reverting if y is zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">234</td>
                                    <td class="row-source"><pre>            z := mod(x, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">235</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">236</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">237</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">238</td>
                                    <td class="row-source"><pre>    function unsafeDiv(uint256 x, uint256 y) internal pure returns (uint256 r) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">239</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">240</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">241</td>
                                    <td class="row-source"><pre>            // Divide x by y. Note this will return</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">242</td>
                                    <td class="row-source"><pre>            // 0 instead of reverting if y is zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">243</td>
                                    <td class="row-source"><pre>            r := div(x, y)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">244</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">245</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">246</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">247</td>
                                    <td class="row-source"><pre>    function unsafeDivUp(uint256 x, uint256 y) internal pure returns (uint256 z) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">248</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">249</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">250</td>
                                    <td class="row-source"><pre>            // Add 1 to x * y if x % y &gt; 0. Note this will</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">251</td>
                                    <td class="row-source"><pre>            // return 0 instead of reverting if y is zero.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">252</td>
                                    <td class="row-source"><pre>            z := add(gt(mod(x, y), 0), div(x, y))</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">253</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">254</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">255</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">256</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="lib_solmate_src_utils_SafeTransferLib_sol" data-file-path="lib/solmate/src/utils/SafeTransferLib.sol" data-lines-active="26" data-lines-covered="23">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(105, 90%, 45%, 0.15); color: hsl(105, 90%, 45%)">
                                88.0%
                            </span>
                            <span class="file-name">lib/solmate/src/utils/SafeTransferLib.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>23 / 26</strong> (88.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: AGPL-3.0-only</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity &gt;=0.8.0;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ERC20} from &quot;../tokens/ERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>/// @notice Safe ETH and ERC20 transfer library that gracefully handles missing return values.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>/// @author Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/SafeTransferLib.sol)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>/// @dev Use with caution! Some functions in this library knowingly create dirty bits at the destination of the free memory pointer.</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>library SafeTransferLib {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>                             ETH OPERATIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>    function safeTransferETH(address to, uint256 amount) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>        bool success;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>            // Transfer the ETH and store if it succeeded or not.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>            success := call(gas(), to, amount, 0, 0, 0, 0)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>        require(success, &quot;ETH_TRANSFER_FAILED&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>    /*//////////////////////////////////////////////////////////////</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>                            ERC20 OPERATIONS</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    //////////////////////////////////////////////////////////////*/</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>    function safeTransferFrom(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        ERC20 token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>        address from,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre>        bool success;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">37</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">38</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">39</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">40</td>
                                    <td class="row-source"><pre>            // Get a pointer to some free memory.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">41</td>
                                    <td class="row-source"><pre>            let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">42</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">43</td>
                                    <td class="row-source"><pre>            // Write the abi-encoded calldata into memory, beginning with the function selector.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">44</td>
                                    <td class="row-source"><pre>            mstore(freeMemoryPointer, 0x23b872dd00000000000000000000000000000000000000000000000000000000)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">45</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 4), and(from, 0xffffffffffffffffffffffffffffffffffffffff)) // Append and mask the &quot;from&quot; argument.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">46</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 36), and(to, 0xffffffffffffffffffffffffffffffffffffffff)) // Append and mask the &quot;to&quot; argument.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">47</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 68), amount) // Append the &quot;amount&quot; argument. Masking not required as it&#39;s a full 32 byte type.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">48</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">49</td>
                                    <td class="row-source"><pre>            // We use 100 because the length of our calldata totals up like so: 4 + 32 * 3.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">50</td>
                                    <td class="row-source"><pre>            // We use 0 and 32 to copy up to 32 bytes of return data into the scratch space.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">51</td>
                                    <td class="row-source"><pre>            success := call(gas(), token, 0, freeMemoryPointer, 100, 0, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">52</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">53</td>
                                    <td class="row-source"><pre>            // Set success to whether the call reverted, if not we check it either</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">54</td>
                                    <td class="row-source"><pre>            // returned exactly 1 (can&#39;t just be non-zero data), or had no return data and token has code.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">55</td>
                                    <td class="row-source"><pre>            if and(iszero(and(eq(mload(0), 1), gt(returndatasize(), 31))), success) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">56</td>
                                    <td class="row-source"><pre>                success := iszero(or(iszero(extcodesize(token)), returndatasize())) </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">57</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">58</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">59</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">60</td>
                                    <td class="row-source"><pre>        require(success, &quot;TRANSFER_FROM_FAILED&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">61</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">62</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">63</td>
                                    <td class="row-source"><pre>    function safeTransfer(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">64</td>
                                    <td class="row-source"><pre>        ERC20 token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">65</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">66</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">67</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">68</td>
                                    <td class="row-source"><pre>        bool success;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">69</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">70</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">71</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">72</td>
                                    <td class="row-source"><pre>            // Get a pointer to some free memory.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">73</td>
                                    <td class="row-source"><pre>            let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">74</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">75</td>
                                    <td class="row-source"><pre>            // Write the abi-encoded calldata into memory, beginning with the function selector.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">76</td>
                                    <td class="row-source"><pre>            mstore(freeMemoryPointer, 0xa9059cbb00000000000000000000000000000000000000000000000000000000)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">77</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 4), and(to, 0xffffffffffffffffffffffffffffffffffffffff)) // Append and mask the &quot;to&quot; argument.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">78</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 36), amount) // Append the &quot;amount&quot; argument. Masking not required as it&#39;s a full 32 byte type.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">79</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">80</td>
                                    <td class="row-source"><pre>            // We use 68 because the length of our calldata totals up like so: 4 + 32 * 2.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">81</td>
                                    <td class="row-source"><pre>            // We use 0 and 32 to copy up to 32 bytes of return data into the scratch space.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">82</td>
                                    <td class="row-source"><pre>            success := call(gas(), token, 0, freeMemoryPointer, 68, 0, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">83</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">84</td>
                                    <td class="row-source"><pre>            // Set success to whether the call reverted, if not we check it either</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">85</td>
                                    <td class="row-source"><pre>            // returned exactly 1 (can&#39;t just be non-zero data), or had no return data and token has code.</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">86</td>
                                    <td class="row-source"><pre>            if and(iszero(and(eq(mload(0), 1), gt(returndatasize(), 31))), success) {</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">87</td>
                                    <td class="row-source"><pre>                success := iszero(or(iszero(extcodesize(token)), returndatasize())) </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">88</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">89</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">90</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">91</td>
                                    <td class="row-source"><pre>        require(success, &quot;TRANSFER_FAILED&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">92</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">93</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">94</td>
                                    <td class="row-source"><pre>    function safeApprove(</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">95</td>
                                    <td class="row-source"><pre>        ERC20 token,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">96</td>
                                    <td class="row-source"><pre>        address to,</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">97</td>
                                    <td class="row-source"><pre>        uint256 amount</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">98</td>
                                    <td class="row-source"><pre>    ) internal {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">99</td>
                                    <td class="row-source"><pre>        bool success;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">100</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">101</td>
                                    <td class="row-source"><pre>        /// @solidity memory-safe-assembly</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">102</td>
                                    <td class="row-source"><pre>        assembly {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">103</td>
                                    <td class="row-source"><pre>            // Get a pointer to some free memory.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">104</td>
                                    <td class="row-source"><pre>            let freeMemoryPointer := mload(0x40)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">105</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">106</td>
                                    <td class="row-source"><pre>            // Write the abi-encoded calldata into memory, beginning with the function selector.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">107</td>
                                    <td class="row-source"><pre>            mstore(freeMemoryPointer, 0x095ea7b300000000000000000000000000000000000000000000000000000000)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">108</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 4), and(to, 0xffffffffffffffffffffffffffffffffffffffff)) // Append and mask the &quot;to&quot; argument.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">109</td>
                                    <td class="row-source"><pre>            mstore(add(freeMemoryPointer, 36), amount) // Append the &quot;amount&quot; argument. Masking not required as it&#39;s a full 32 byte type.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">110</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">111</td>
                                    <td class="row-source"><pre>            // We use 68 because the length of our calldata totals up like so: 4 + 32 * 2.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">112</td>
                                    <td class="row-source"><pre>            // We use 0 and 32 to copy up to 32 bytes of return data into the scratch space.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">113</td>
                                    <td class="row-source"><pre>            success := call(gas(), token, 0, freeMemoryPointer, 68, 0, 32)</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">114</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">115</td>
                                    <td class="row-source"><pre>            // Set success to whether the call reverted, if not we check it either</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">116</td>
                                    <td class="row-source"><pre>            // returned exactly 1 (can&#39;t just be non-zero data), or had no return data and token has code.</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">117</td>
                                    <td class="row-source"><pre>            if and(iszero(and(eq(mload(0), 1), gt(returndatasize(), 31))), success) {</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">118</td>
                                    <td class="row-source"><pre>                success := iszero(or(iszero(extcodesize(token)), returndatasize())) </pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">119</td>
                                    <td class="row-source"><pre>            }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">120</td>
                                    <td class="row-source"><pre>        }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">121</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">122</td>
                                    <td class="row-source"><pre>        require(success, &quot;APPROVE_FAILED&quot;);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">123</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">124</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">125</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="src_Vault_sol" data-file-path="src/Vault.sol" data-lines-active="8" data-lines-covered="7">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(104, 90%, 45%, 0.15); color: hsl(104, 90%, 45%)">
                                87.0%
                            </span>
                            <span class="file-name">src/Vault.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>7 / 8</strong> (87.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: MIT</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.30;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {ERC20} from &quot;solmate/tokens/ERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>import {ERC4626} from &quot;solmate/tokens/ERC4626.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>// 2. A simple Vault that inherits Solmate&#39;s ERC4626</pre></td>
                                </tr>
                                <tr class="row-line-uncovered">
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>contract VaultImpl is ERC4626 {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre>    constructor(ERC20 _asset, string memory _name, string memory _symbol) ERC4626(_asset, _name, _symbol) {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>	uint256 _totalAssets;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre>    function totalAssets() public view override returns (uint256) {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>        return _totalAssets;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre>    function beforeWithdraw(uint256 assets, uint256) internal override {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>        _totalAssets = _totalAssets - assets;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>    function afterDeposit(uint256 assets, uint256) internal override {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>        _totalAssets = _totalAssets + assets;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="source-file" id="test_CryticERC4626Harness_sol" data-file-path="test/CryticERC4626Harness.sol" data-lines-active="14" data-lines-covered="14">
                    <div class="source-file-header">
                        <div class="file-info">
                            <span class="coverage-badge" style="background-color: hsla(120, 90%, 45%, 0.15); color: hsl(120, 90%, 45%)">
                                100.0%
                            </span>
                            <span class="file-name">test/CryticERC4626Harness.sol</span>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="chevron-icon">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="source-file-content">
                        <div class="source-file-stats">
                            <span>Lines covered: <strong>14 / 14</strong> (100.0%)</span>
                        </div>
                        <div class="code-container">
                            <table class="code-coverage-table">
                                <tr>
                                    <td class="row-line-number">1</td>
                                    <td class="row-source"><pre>// SPDX-License-Identifier: MIT</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">2</td>
                                    <td class="row-source"><pre>pragma solidity ^0.8.24;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">3</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">4</td>
                                    <td class="row-source"><pre>import {CryticERC4626PropertyTests} from &quot;properties/ERC4626/ERC4626PropertyTests.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">5</td>
                                    <td class="row-source"><pre>// this token _must_ be the vault&#39;s underlying asset</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">6</td>
                                    <td class="row-source"><pre>import {TestERC20Token} from &quot;properties/ERC4626/util/TestERC20Token.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">7</td>
                                    <td class="row-source"><pre>import {ERC20} from &quot;solmate/tokens/ERC20.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">8</td>
                                    <td class="row-source"><pre>import {ERC4626} from &quot;solmate/tokens/ERC4626.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">9</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">10</td>
                                    <td class="row-source"><pre>// change to your vault implementation</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">11</td>
                                    <td class="row-source"><pre>import {VaultImpl} from &quot;../src/Vault.sol&quot;;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">12</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">13</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">14</td>
                                    <td class="row-source"><pre>contract VaultImplInternalTestable is VaultImpl {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">15</td>
                                    <td class="row-source"><pre>	    constructor(ERC20 _asset, string memory _name, string memory _symbol)</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">16</td>
                                    <td class="row-source"><pre>		VaultImpl(_asset, _name, _symbol) {}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">17</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">18</td>
                                    <td class="row-source"><pre>		function recognizeProfit(uint256 profit) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">19</td>
                                    <td class="row-source"><pre>			TestERC20Token(address(asset)).mint(address(this), profit);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">20</td>
                                    <td class="row-source"><pre>			_totalAssets += profit;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">21</td>
                                    <td class="row-source"><pre>		}</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">22</td>
                                    <td class="row-source"><pre>		function recognizeLoss(uint256 loss) public {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">23</td>
                                    <td class="row-source"><pre>			TestERC20Token(address(asset)).burn(address(this), loss);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">24</td>
                                    <td class="row-source"><pre>			_totalAssets -= loss;</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">25</td>
                                    <td class="row-source"><pre>		}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">26</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">27</td>
                                    <td class="row-source"><pre>contract CryticERC4626Harness is CryticERC4626PropertyTests {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">28</td>
                                    <td class="row-source"><pre>    constructor() {</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">29</td>
                                    <td class="row-source"><pre>        TestERC20Token _asset = new TestERC20Token(&quot;Test Token&quot;, &quot;TT&quot;, 18);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">30</td>
                                    <td class="row-source"><pre>        VaultImplInternalTestable _vault = new VaultImplInternalTestable(ERC20(address(_asset)), &quot;Vault Token&quot;, &quot;VTT&quot;);</pre></td>
                                </tr>
                                <tr class="row-line-covered">
                                    <td class="row-line-number">31</td>
                                    <td class="row-source"><pre>        initialize(address(_vault), address(_asset), true);</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">32</td>
                                    <td class="row-source"><pre>    }</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">33</td>
                                    <td class="row-source"><pre>}</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">34</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">35</td>
                                    <td class="row-source"><pre>//echidna test/CryticERC4626Harness.sol --contract CryticERC4626Harness --config ./echidna.config.yaml</pre></td>
                                </tr>
                                <tr>
                                    <td class="row-line-number">36</td>
                                    <td class="row-source"><pre></pre></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div>Report generated by <a href="https://github.com/crytic/echidna" target="_blank">Echidna</a> on February 04, 2026 at 11:46:58 UTC</div>
        </footer>
    </div>
    <script>
// Initialize the application when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    initSourceFileExpansion();
    initializeFileTree();
    initResizer();
});

// Initialize source file expansion behavior
function initSourceFileExpansion() {
    document.querySelectorAll('.source-file').forEach(file => {
        const header = file.querySelector('.source-file-header');
        header.addEventListener('click', () => {
            file.classList.toggle('expanded');
            const chevron = header.querySelector('.chevron-icon');
            chevron.style.transform = file.classList.contains('expanded') ? 'rotate(180deg)' : 'rotate(0)';
        });
    });
}

// Initialize the resizer functionality
function initResizer() {
    const fileExplorer = document.getElementById('file-explorer');
    const resizer = document.getElementById('file-explorer-resizer');
    let startX, startWidth;

    // Handle mousedown on the resizer
    resizer.addEventListener('mousedown', e => {
        startX = e.clientX;
        startWidth = parseInt(window.getComputedStyle(fileExplorer).width, 10);

        // Add event listeners for resizing
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);

        // Prevent text selection during resize
        document.body.style.userSelect = 'none';
        document.body.style.cursor = 'col-resize';
    });

    // Handle mousemove for resizing
    function handleMouseMove(e) {
        const newWidth = startWidth + (e.clientX - startX);

        // Apply width constraints
        if (newWidth >= 200 && newWidth <= 500) {
            fileExplorer.style.width = newWidth + 'px';
            fileExplorer.style.flex = `0 0 ${newWidth}px`;
        }
    }

    // Handle mouseup to end resizing
    function handleMouseUp() {
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);
        document.body.style.userSelect = '';
        document.body.style.cursor = '';
    }
}

// Helper function to get color based on coverage percentage
function getCoverageColor(percentage) {
    return percentage < 50
        ? `hsl(${percentage * 1.2}, 90%, 50%)`
        : `hsl(${60 + (percentage - 50) * 1.2}, 90%, 45%)`;
}

// Helper function for transparent background with coverage color
function getCoverageColorAlpha(percentage) {
    return percentage < 50
        ? `hsla(${percentage * 1.2}, 90%, 50%, 0.15)`
        : `hsla(${60 + (percentage - 50) * 1.2}, 90%, 45%, 0.15)`;
}

// Build file tree structure from file paths
function buildFileTree() {
    const root = { name: '', type: 'directory', children: {}, path: '' };
    const sourceFiles = document.getElementsByClassName("source-file");

    // First pass: build the tree structure
    for (let i = 0; i < sourceFiles.length; i++) {
        const filePath = sourceFiles[i].dataset.filePath;
        const pathParts = filePath.split(/[\/\\]+/);
        let current = root;
        let currentPath = '';

        for (let j = 0; j < pathParts.length; j++) {
            const part = pathParts[j];
            if (part === '') continue;

            currentPath += (currentPath ? '/' : '') + part;

            if (j === pathParts.length - 1) {
                // This is a file
                current.children[part] = {
                    name: part,
                    type: 'file',
                    path: filePath,
                    element: sourceFiles[i],
                    coveredLines: parseInt(sourceFiles[i].dataset.linesCovered),
                    activeLines: parseInt(sourceFiles[i].dataset.linesActive)
                };
            } else {
                // This is a directory
                if (!current.children[part]) {
                    current.children[part] = {
                        name: part,
                        type: 'directory',
                        children: {},
                        path: currentPath
                    };
                }
                current = current.children[part];
            }
        }
    }

    // Second pass: calculate directory coverage
    calculateDirectoryCoverage(root);

    return root;
}

// Calculate coverage for directories by aggregating file coverage
function calculateDirectoryCoverage(node) {
    if (node.type === 'file') {
        return {
            coveredLines: node.coveredLines,
            activeLines: node.activeLines
        };
    }

    let totalCovered = 0;
    let totalActive = 0;

    for (const childName in node.children) {
        const child = node.children[childName];
        const { coveredLines, activeLines } = calculateDirectoryCoverage(child);
        totalCovered += coveredLines;
        totalActive += activeLines;
    }

    node.coveredLines = totalCovered;
    node.activeLines = totalActive;

    return {
        coveredLines: totalCovered,
        activeLines: totalActive
    };
}

// Render the file tree to the DOM
function renderFileTree(node, parentElement, isRoot = false) {
    const list = isRoot ? parentElement : document.createElement('ul');

    // Sort children: directories first, then files, both alphabetically
    const sortedChildren = Object.values(node.children).sort((a, b) => {
        if (a.type !== b.type) return a.type === 'directory' ? -1 : 1;
        return a.name.localeCompare(b.name);
    });

    for (const child of sortedChildren) {
        const li = document.createElement('li');
        li.className = child.type;

        // Create item container
        const itemDiv = document.createElement('div');
        itemDiv.className = 'file-item';

        // Create toggle button for directories
        const toggle = document.createElement('span');
        toggle.className = 'file-toggle';
        itemDiv.appendChild(toggle);

        // Create file/folder icon
        const icon = document.createElement('span');
        icon.className = 'file-icon';
        itemDiv.appendChild(icon);

        // Create name span
        const nameSpan = document.createElement('span');
        nameSpan.className = 'file-name';
        nameSpan.textContent = child.name;
        itemDiv.appendChild(nameSpan);

        // Add coverage indicator
        if (child.activeLines > 0) {
            const coverage = document.createElement('span');
            coverage.className = 'file-coverage';
            const percentage = Math.round((child.coveredLines / child.activeLines) * 100);
            coverage.style.backgroundColor = getCoverageColor(percentage);
            coverage.title = `${child.coveredLines}/${child.activeLines} lines covered (${percentage}%)`;
            itemDiv.appendChild(coverage);
        }

        li.appendChild(itemDiv);

        // Handle click events
        if (child.type === 'directory') {
            toggle.addEventListener('click', e => {
                e.stopPropagation();
                li.classList.toggle('expanded');
            });

            itemDiv.addEventListener('click', () => {
                li.classList.toggle('expanded');
            });

            // Recursively render children
            renderFileTree(child, li);
        } else {
            // Add click handler for files
            itemDiv.addEventListener('click', () => {
                // Deactivate all other items
                document.querySelectorAll('.file-item.active').forEach(el => {
                    el.classList.remove('active');
                });

                // Activate this item
                itemDiv.classList.add('active');

                // Navigate to the file
                const fileElement = child.element;
                fileElement.scrollIntoView({ behavior: 'smooth' });

                // Expand the file if it's collapsed
                if (!fileElement.classList.contains('expanded')) {
                    fileElement.querySelector('.source-file-header').click();
                }
            });
        }

        list.appendChild(li);
    }

    if (!isRoot) {
        parentElement.appendChild(list);
    }
}

// Initialize the file tree
function initializeFileTree() {
    const fileTreeRoot = document.getElementById('file-tree-root');
    const fileTree = buildFileTree();
    renderFileTree(fileTree, fileTreeRoot, true);

    // Expand the first level directories by default
    document.querySelectorAll('#file-tree-root > li.directory').forEach(dir => {
        dir.classList.add('expanded');
    });

    // Initialize search functionality
    initializeFileSearch();
}

// Initialize file search functionality
function initializeFileSearch() {
    const searchInput = document.getElementById('file-search-input');
    const clearButton = document.getElementById('file-search-clear');
    const noResultsMessage = document.getElementById('search-no-results');

    // Debounce function to limit how often the search is performed during typing
    function debounce(func, delay) {
        let timeout;
        return function() {
            const context = this;
            const args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(context, args), delay);
        };
    }

    // Function to highlight text that matches the search term
    function highlightText(element, searchTerm) {
        const text = element.textContent;

        if (!searchTerm) {
            // Clear any existing highlights
            element.textContent = text;
            return false;
        }

        const lowerText = text.toLowerCase();
        const lowerSearchTerm = searchTerm.toLowerCase();

        if (lowerText.includes(lowerSearchTerm)) {
            const startIndex = lowerText.indexOf(lowerSearchTerm);
            const endIndex = startIndex + lowerSearchTerm.length;

            const beforeMatch = text.substring(0, startIndex);
            const match = text.substring(startIndex, endIndex);
            const afterMatch = text.substring(endIndex);

            element.innerHTML = beforeMatch + '<span class="search-highlight">' + match + '</span>' + afterMatch;
            return true;
        }

        element.textContent = text;
        return false;
    }

    // Function to filter the file tree based on search term
    function filterFileTree(searchTerm) {
        const fileTreeItems = document.querySelectorAll('.file-tree li');
        let hasVisibleItems = false;

        if (searchTerm === '') {
            // If search is cleared, show everything and reset expansion state
            fileTreeItems.forEach(item => {
                const nameElement = item.querySelector('.file-name');
                highlightText(nameElement, ''); // Clear highlights
                item.style.display = '';

                // Only expand first level by default
                if (item.classList.contains('directory')) {
                    // Check if this is a direct child of the root file tree
                    if (item.parentElement.id === 'file-tree-root') {
                        item.classList.add('expanded');
                    } else {
                        item.classList.remove('expanded');
                    }
                }
            });
        } else {
            // Two-pass filtering for search

            // First pass: hide everything and find matches
            const matchingItems = [];
            fileTreeItems.forEach(item => {
                const nameElement = item.querySelector('.file-name');
                const isMatch = highlightText(nameElement, searchTerm);
                item.style.display = 'none'; // Hide everything initially

                if (isMatch) {
                    matchingItems.push(item);
                }
            });

            // Second pass: show matching items and all their ancestor directories
            matchingItems.forEach(item => {
                hasVisibleItems = true;

                // Show the matching item
                item.style.display = '';

                // Show and expand all parent directories
                let parent = item.parentElement.closest('li.directory');
                while (parent) {
                    parent.style.display = '';
                    parent.classList.add('expanded');
                    parent = parent.parentElement.closest('li.directory');
                }
            });
        }

        // Show/hide the "no results" message
        noResultsMessage.style.display = searchTerm && !hasVisibleItems ? 'block' : 'none';
    }

    // Debounced search function to avoid excessive filtering while typing
    const debouncedSearch = debounce(filterFileTree, 200);

    // Search input event
    searchInput.addEventListener('input', function() {
        debouncedSearch(this.value.trim());
    });

    // Clear button event
    clearButton.addEventListener('click', function() {
        searchInput.value = '';
        filterFileTree('');
        searchInput.focus();
    });
}

// Button click handler for expanding/collapsing all files
function setAllSourceFilesCollapsed(collapsed) {
    document.querySelectorAll('.source-file').forEach(file => {
        if ((collapsed && file.classList.contains('expanded')) ||
            (!collapsed && !file.classList.contains('expanded'))) {
            file.querySelector('.source-file-header').click();
        }
    });
}

// Button click handler for expanding/collapsing empty files
function setEmptySourceFilesCollapsed(collapsed) {
    document.querySelectorAll('.source-file').forEach(file => {
        if (parseInt(file.dataset.linesActive) <= 0) {
            if ((collapsed && file.classList.contains('expanded')) ||
                (!collapsed && !file.classList.contains('expanded'))) {
                file.querySelector('.source-file-header').click();
            }
        }
    });
}    </script>
</body>
</html>